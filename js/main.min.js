!function(e){function i(i){e(this);o.toggleClass("list_dropdown")}var t=e("html, body"),o=t.find(".list-options");o.find(".option"),o.find(".active");o.on("click",i)}(jQuery),function(e){function i(i){var t=e(this),n=t.prop("class");o.find("div").removeClass("active"),t.addClass("active"),"all"==n&&e(".plot").show(),"raw"==n&&(e(".pp").hide(),e(".pr").show()),"processed"==n&&(e(".pp").show(),e(".pr").hide())}var t=e("html, body"),o=t.find(".visuals .filters");o.find("div").on("click",i)}(jQuery),function(e){function i(i){var t=e(this),o=t.prop("for"),n=s.find(".firstS");"Other"===o?(n.prop("readonly",!1),n.prop("value",""),n.prop("placeholder","Species name"),n.removeClass("readonly")):(n.prop("readonly",!0),n.prop("value",""),n.prop("placeholder",o),n.addClass("readonly"))}function t(e){a.addClass("send-form")}var o=e("html, body"),n=o.find(".choices"),s=o.find(".speciesSelected"),a=o.find(".form");n.find("label").on("click",i),e("div.dropzone").dropzone({url:"/file/post"}),a.find(".button-holder button").on("click",t)}(jQuery),function(e){function i(){a>=5?(clearInterval(o),e(".preloader").hide(),e(".gene-sorting").show(),n.find(".gene-content").each(function(){1===parseFloat(e(this).find(".c3").text())?e(this).show():e(this).hide()}),e(".dnapreloader").hide()):(t(a),a++)}function t(i){for(var t=i,o=30*(t-1);o<30*t;o++){var n=d[0].length;s.find(".gene").append("<div class='gene-content ge"+o+" clearfix'></div>");for(var a=0;a<n;a++)e(".ge"+o).append("<div class='co c"+a+"'>"+d[o][a]+"</div>")}}var o,n=e("html, body"),s=n.find(".gene-holder"),a=1,d=[];n.hasClass("datasett")&&Papa.parse("../data/TBIL-01/finalResults.csv",{download:!0,complete:function(e){d=e.data,o=setInterval(function(){i()},1e3)}})}(jQuery),particlesJS.load("particles-js","/PrionDiseaseThesis/data/particlesjs.json"),function(e){function i(i){var t=e(this).val().toLowerCase();""===t?(a.closest(".col-lg-3.col-md-4.col-sm-6").css("display","block"),d.show(),c.hide()):a.each(function(){var i=e(this).find("h3").text().toLowerCase(),o=e(this).find("h3").prop("class").toLowerCase().replace("animal ",""),n=e(this).attr("data-latin").toLowerCase(),s=e(this).find("h4").text().toLowerCase(),a=e(this).find("h5").text().toLowerCase();e(this).closest(".col-lg-3.col-md-4.col-sm-6").css("display","none"),d.hide(),c.show(),(i.indexOf(t)>=0||o.indexOf(t)>=0||s.indexOf(t)>=0||a.indexOf(t)>=0||n.indexOf(t)>=0)&&(e(this).closest(".col-lg-3.col-md-4.col-sm-6").css("display","block"),d.show(),c.hide())})}function t(){s.val(""),d.show(),c.hide(),a.closest(".col-lg-3.col-md-4.col-sm-6").css("display","block")}var o=e("body"),n=o.find(".search-holder"),s=n.find("input"),a=(o.find(".results"),o.find(".result")),d=o.find(".fa-search"),c=o.find(".fa-close");s.on("keyup",i),c.on("click",t)}(jQuery),function(e){function i(i){var o=(e(this),t.find(".gene-content")),a=n.find("option:selected").val(),d=s.val();s.prop("disabled",!1),"1"===a&&""!==d?o.each(function(){parseFloat(e(this).find(".c7").text())<=d?e(this).show():e(this).hide()}):"2"===a&&""!==d?o.each(function(){parseFloat(e(this).find(".c8").text())<=d?e(this).show():e(this).hide()}):"3"===a&&""!==d?o.each(function(){parseFloat(e(this).find(".c9").text())<=d?e(this).show():e(this).hide()}):"4"===a&&""!==d?o.each(function(){parseFloat(e(this).find(".c10").text())<=d?e(this).show():e(this).hide()}):"5"===a&&""!==d?o.each(function(){parseFloat(e(this).find(".c11").text())<=d?e(this).show():e(this).hide()}):"0"===a&&(s.prop("disabled",!0),o.each(function(){1===parseFloat(e(this).find(".c3").text())?e(this).show():e(this).hide()}))}var t=e("html, body"),o=t.find(".gene-sorting"),n=o.find(".custom-select select"),s=o.find(".val input");n.on("change",i),s.on("change",i),s.on("keyup",i)}(jQuery),function(e){function i(i){var o=(e(this),t.find(".gene-content")),a=n.find("option:selected").val(),d=s.val();s.prop("disabled",!1),"1"===a&&""!==d?o.each(function(){parseFloat(e(this).find(".c7").text())<=d?e(this).show():e(this).hide()}):"2"===a&&""!==d?o.each(function(){parseFloat(e(this).find(".c8").text())<=d?e(this).show():e(this).hide()}):"3"===a&&""!==d?o.each(function(){parseFloat(e(this).find(".c9").text())<=d?e(this).show():e(this).hide()}):"4"===a&&""!==d?o.each(function(){parseFloat(e(this).find(".c10").text())<=d?e(this).show():e(this).hide()}):"5"===a&&""!==d?o.each(function(){parseFloat(e(this).find(".c11").text())<=d?e(this).show():e(this).hide()}):"0"===a&&(s.prop("disabled",!0),o.each(function(){1===parseFloat(e(this).find(".c3").text())?e(this).show():e(this).hide()}))}var t=e("html, body"),o=t.find(".gene-sorting"),n=o.find(".custom-select select"),s=o.find(".val input");t.find(".volcano-holder"),t.find(".volcano"),t.find(".overlay");n.on("change",i),s.on("change",i),s.on("keyup",i)}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyb3Bkb3duLmpzIiwiZmlsdGVyLmpzIiwiZm9ybS5qcyIsImdlbmVzLmpzIiwicGFydGljbGUuanMiLCJzZWFyY2guanMiLCJzb3J0aW5nLmpzIiwidm9sY2Fuby5qcyJdLCJuYW1lcyI6WyIkIiwidG9nZ2xlRHJvcGRvd24iLCJlIiwidGhpcyIsIiRsaXN0IiwidG9nZ2xlQ2xhc3MiLCIkYm9keSIsImZpbmQiLCJvbiIsImpRdWVyeSIsImNoYW5nZUZpbHRlciIsIiR0aGlzIiwic2VsZWN0ZWQiLCJwcm9wIiwiJGZpbHRlciIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJzaG93IiwiaGlkZSIsInNldFNwZWNpZXMiLCJzcGVjaWVzIiwiZmlyc3QiLCIkc3BlY2llc1NlbGVjdGVkIiwic2VuZERhdGUiLCIkZm9ybSIsIiRjaG9pY2VzIiwiZHJvcHpvbmUiLCJ1cmwiLCJ1cGRhdGVUYWJsZSIsImNvdW50IiwiY2xlYXJJbnRlcnZhbCIsInRpbSIsImVhY2giLCJwYXJzZUZsb2F0IiwidGV4dCIsImxvYWRBbGxDb250ZW50IiwidyIsInN0ZXAiLCJpIiwibGUiLCJsb2FkZWQiLCJsZW5ndGgiLCIkaG9sZGVyIiwiYXBwZW5kIiwiZCIsImhhc0NsYXNzIiwiUGFwYSIsInBhcnNlIiwiZG93bmxvYWQiLCJjb21wbGV0ZSIsInJlc3VsdHMiLCJkYXRhIiwic2V0SW50ZXJ2YWwiLCJwYXJ0aWNsZXNKUyIsImxvYWQiLCJnZXRSZXN1bHRzIiwidmFsIiwidG9Mb3dlckNhc2UiLCIkcmVzdWx0IiwiY2xvc2VzdCIsImNzcyIsIiRzZWFyY2hfaWNvbiIsIiRjbG9zZV9pY29uIiwiY29udGVudCIsInJlcGxhY2UiLCJsYXRpbiIsImF0dHIiLCJnZW5lcyIsImV4dHJhX2dlbmVzIiwiaW5kZXhPZiIsImVtcHR5U2VhcmNoIiwiJHNlYXJjaF9pbnB1dCIsIiRzZWFyY2hfaG9sZGVyIiwidXBkYXRlRmlsdGVycyIsIiRnZW5lcyIsIiRzZWxlY3QiLCJudW1iZXIiLCIk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TixHQUFBLEtBQUFnRSxFQUNBRixFQUFBMUMsS0FBQSxXQUNBQyxXQUFBakMsRUFBQUcsTUFBQUksS0FBQSxRQUFBMkIsU0FDQTBDLEVBQUE1RSxFQUFBRyxNQUFBYyxPQUFBakIsRUFBQUcsTUFBQWUsU0FHQSxNQUFBTixJQUNBaUUsRUFBQWhFLEtBQUEsWUFBQSxHQUNBNkQsRUFBQTFDLEtBQUEsV0FFQSxJQURBQyxXQUFBakMsRUFBQUcsTUFBQUksS0FBQSxPQUFBMkIsUUFDQWxDLEVBQUFHLE1BQUFjLE9BQUFqQixFQUFBRyxNQUFBZSxVQTVEQSxHQUFBWixHQUFBTixFQUFBLGNBQ0E4RSxFQUFBeEUsRUFBQUMsS0FBQSxpQkFDQW9FLEVBQUFHLEVBQUF2RSxLQUFBLHlCQUNBc0UsRUFBQUMsRUFBQXZFLEtBQUEsYUFDQUQsR0FBQUMsS0FBQSxtQkFDQUQsRUFBQUMsS0FBQSxZQUNBRCxFQUFBQyxLQUFBLFdBS0FvRSxHQUFBbkUsR0FBQSxTQUFBaUUsR0FDQUksRUFBQXJFLEdBQUEsU0FBQWlFLEdBQ0FJLEVBQUFyRSxHQUFBLFFBQUFpRSxJQW9EQWhFIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgkKSB7XG5cbiAgICAvKlxuICAgICAqIFZhcnNcbiAgICAgKi9cbiAgICB2YXIgJGJvZHkgPSAkKFwiaHRtbCwgYm9keVwiKSxcbiAgICAgICAgJGxpc3QgPSAkYm9keS5maW5kKFwiLmxpc3Qtb3B0aW9uc1wiKSxcbiAgICAgICAgJGxpc3Rfb3B0aW9ucyA9ICRsaXN0LmZpbmQoXCIub3B0aW9uXCIpLFxuICAgICAgICAkbGlzdF9hY3RpdmUgPSAkbGlzdC5maW5kKFwiLmFjdGl2ZVwiKTtcblxuICAgIC8qXG4gICAgICogRXZlbnRzXG4gICAgICovXG4gICAgJGxpc3Qub24oXCJjbGlja1wiLCB0b2dnbGVEcm9wZG93bik7XG5cbiAgICAvKlxuICAgICAqIEZ1bmN0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvZ2dsZURyb3Bkb3duKGUpe1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcblxuICAgICAgJGxpc3QudG9nZ2xlQ2xhc3MoXCJsaXN0X2Ryb3Bkb3duXCIpO1xuICAgIH1cblxufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbiAoJCkge1xuXG4gICAgLypcbiAgICAgKiBWYXJzXG4gICAgICovXG4gICAgdmFyICRib2R5ID0gJChcImh0bWwsIGJvZHlcIiksXG4gICAgICAgICRmaWx0ZXIgPSAkYm9keS5maW5kKFwiLnZpc3VhbHMgLmZpbHRlcnNcIik7XG5cbiAgICAvKlxuICAgICAqIEV2ZW50c1xuICAgICAqL1xuICAgICRmaWx0ZXIuZmluZChcImRpdlwiKS5vbihcImNsaWNrXCIsIGNoYW5nZUZpbHRlcik7XG5cbiAgICAvKlxuICAgICAqIEZ1bmN0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYW5nZUZpbHRlcihlKXtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgc2VsZWN0ZWQgPSAkdGhpcy5wcm9wKFwiY2xhc3NcIik7XG5cbiAgICAgICRmaWx0ZXIuZmluZChcImRpdlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICR0aGlzLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXG4gICAgICBpZihzZWxlY3RlZCA9PSBcImFsbFwiKSB7XG4gICAgICAgICQoXCIucGxvdFwiKS5zaG93KCk7XG4gICAgICB9XG5cbiAgICAgIGlmKHNlbGVjdGVkID09IFwicmF3XCIpIHtcbiAgICAgICAgJChcIi5wcFwiKS5oaWRlKCk7XG4gICAgICAgICQoXCIucHJcIikuc2hvdygpO1xuICAgICAgfVxuXG4gICAgICBpZihzZWxlY3RlZCA9PSBcInByb2Nlc3NlZFwiKSB7XG4gICAgICAgICQoXCIucHBcIikuc2hvdygpO1xuICAgICAgICAkKFwiLnByXCIpLmhpZGUoKTtcbiAgICAgIH1cblxuICAgIH1cblxufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbiAoJCkge1xuXG4gICAgLypcbiAgICAgKiBWYXJzXG4gICAgICovXG4gICAgdmFyICRib2R5ID0gJChcImh0bWwsIGJvZHlcIiksXG4gICAgICAgICRjaG9pY2VzID0gJGJvZHkuZmluZChcIi5jaG9pY2VzXCIpLFxuICAgICAgICAkc3BlY2llc1NlbGVjdGVkID0gJGJvZHkuZmluZChcIi5zcGVjaWVzU2VsZWN0ZWRcIiksXG4gICAgICAgICRmb3JtID0gJGJvZHkuZmluZChcIi5mb3JtXCIpO1xuXG4gICAgLypcbiAgICAgKiBFdmVudHNcbiAgICAgKi9cbiAgICAkY2hvaWNlcy5maW5kKFwibGFiZWxcIikub24oXCJjbGlja1wiLCBzZXRTcGVjaWVzKTtcbiAgICAkKFwiZGl2LmRyb3B6b25lXCIpLmRyb3B6b25lKHsgdXJsOiBcIi9maWxlL3Bvc3RcIiB9KTtcbiAgICAkZm9ybS5maW5kKFwiLmJ1dHRvbi1ob2xkZXIgYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgc2VuZERhdGUpO1xuXG4gICAgLypcbiAgICAgKiBGdW5jdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRTcGVjaWVzKGUpe1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICBzcGVjaWVzID0gJHRoaXMucHJvcChcImZvclwiKSxcbiAgICAgICAgICBmaXJzdCA9ICRzcGVjaWVzU2VsZWN0ZWQuZmluZChcIi5maXJzdFNcIik7XG5cbiAgICAgIGlmKHNwZWNpZXMgPT09IFwiT3RoZXJcIikge1xuICAgICAgICBmaXJzdC5wcm9wKFwicmVhZG9ubHlcIiwgZmFsc2UpO1xuICAgICAgICBmaXJzdC5wcm9wKFwidmFsdWVcIiwgXCJcIik7XG4gICAgICAgIGZpcnN0LnByb3AoXCJwbGFjZWhvbGRlclwiLCBcIlNwZWNpZXMgbmFtZVwiKTtcbiAgICAgICAgZmlyc3QucmVtb3ZlQ2xhc3MoXCJyZWFkb25seVwiKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmaXJzdC5wcm9wKFwicmVhZG9ubHlcIiwgdHJ1ZSk7XG4gICAgICAgIGZpcnN0LnByb3AoXCJ2YWx1ZVwiLCBcIlwiKTtcbiAgICAgICAgZmlyc3QucHJvcChcInBsYWNlaG9sZGVyXCIsIHNwZWNpZXMpO1xuICAgICAgICBmaXJzdC5hZGRDbGFzcyhcInJlYWRvbmx5XCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbmREYXRlKGUpIHtcbiAgICAgICRmb3JtLmFkZENsYXNzKFwic2VuZC1mb3JtXCIpO1xuICAgIH1cblxufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbiAoJCkge1xuXG4gICAgLypcbiAgICAgKiBWYXJzXG4gICAgICovXG4gICAgdmFyICRib2R5ID0gJChcImh0bWwsIGJvZHlcIiksXG4gICAgICAgICRob2xkZXIgPSAkYm9keS5maW5kKFwiLmdlbmUtaG9sZGVyXCIpO1xuXG4gICAgdmFyIGNvdW50ID0gMSxcbiAgICAgICAgdGltLFxuICAgICAgICBsb2FkZWQgPSBbXTtcblxuICAgIC8qXG4gICAgICogRXZlbnRzXG4gICAgICovXG4gICAgaWYoJGJvZHkuaGFzQ2xhc3MoXCJkYXRhc2V0dFwiKSkge1xuICAgICAgUGFwYS5wYXJzZShcIi4uL2RhdGEvVEJJTC0wMS9maW5hbFJlc3VsdHMuY3N2XCIsIHtcbiAgICAgICAgZG93bmxvYWQ6IHRydWUsXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXN1bHRzKSB7XG4gICAgICAgICAgbG9hZGVkID0gcmVzdWx0cy5kYXRhO1xuICAgICAgICAgIHRpbSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7IHVwZGF0ZVRhYmxlKCk7IH0sIDEwMDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIEZ1bmN0aW9uc1xuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlVGFibGUoKSB7XG4gICAgICB2YXIgbGltaXRlZCA9IDU7XG4gICAgICAvLyBGb3IgcHJlc2VuYXRpb24gJiBwZXJmb3JtYW5jZVxuXG4gICAgICBpZihjb3VudCA+PSBsaW1pdGVkKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltKTtcbiAgICAgICAgJChcIi5wcmVsb2FkZXJcIikuaGlkZSgpO1xuICAgICAgICAkKFwiLmdlbmUtc29ydGluZ1wiKS5zaG93KCk7XG4gICAgICAgICRib2R5LmZpbmQoXCIuZ2VuZS1jb250ZW50XCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jM1wiKS50ZXh0KCkpO1xuICAgICAgICAgIGlmKHEgPT09IDEpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiLmRuYXByZWxvYWRlclwiKS5oaWRlKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG9hZEFsbENvbnRlbnQoY291bnQpO1xuICAgICAgICBjb3VudCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRBbGxDb250ZW50KHcpIHtcbiAgICAgIHZhciBzdGVwID0gdztcbiAgICAgIGZvcih2YXIgaSA9IDMwICogKHN0ZXAgLSAxKTsgaSA8IDMwICogc3RlcDsgaSsrKSB7XG4gICAgICAgIHZhciBsZSA9IGxvYWRlZFswXS5sZW5ndGg7XG4gICAgICAgICRob2xkZXIuZmluZChcIi5nZW5lXCIpLmFwcGVuZChcIjxkaXYgY2xhc3M9J2dlbmUtY29udGVudCBnZVwiICsgaSArIFwiIGNsZWFyZml4Jz48L2Rpdj5cIik7XG4gICAgICAgIGZvcih2YXIgZCA9IDA7IGQgPCBsZTsgZCsrKSB7XG4gICAgICAgICAgJChcIi5nZVwiICsgaSkuYXBwZW5kKFwiPGRpdiBjbGFzcz0nY28gY1wiICsgZCArIFwiJz5cIiArIGxvYWRlZFtpXVtkXSArIFwiPC9kaXY+XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG59KShqUXVlcnkpO1xuIiwicGFydGljbGVzSlMubG9hZCgncGFydGljbGVzLWpzJywgJy9QcmlvbkRpc2Vhc2VUaGVzaXMvZGF0YS9wYXJ0aWNsZXNqcy5qc29uJyk7XG4iLCIoZnVuY3Rpb24gKCQpIHtcblxuICAgIC8qXG4gICAgICogVmFyc1xuICAgICAqL1xuICAgIHZhciAkYm9keSA9ICQoXCJib2R5XCIpLFxuICAgICAgICAkc2VhcmNoX2hvbGRlciA9ICRib2R5LmZpbmQoXCIuc2VhcmNoLWhvbGRlclwiKSxcbiAgICAgICAgJHNlYXJjaF9pbnB1dCA9ICRzZWFyY2hfaG9sZGVyLmZpbmQoXCJpbnB1dFwiKSxcbiAgICAgICAgJHJlc3VsdHMgPSAkYm9keS5maW5kKFwiLnJlc3VsdHNcIiksXG4gICAgICAgICRyZXN1bHQgPSAkYm9keS5maW5kKFwiLnJlc3VsdFwiKSxcbiAgICAgICAgJHNlYXJjaF9pY29uID0gJGJvZHkuZmluZChcIi5mYS1zZWFyY2hcIiksXG4gICAgICAgICRjbG9zZV9pY29uID0gJGJvZHkuZmluZChcIi5mYS1jbG9zZVwiKTtcblxuICAgICRzZWFyY2hfaW5wdXQub24oXCJrZXl1cFwiLCBnZXRSZXN1bHRzKTtcbiAgICAkY2xvc2VfaWNvbi5vbihcImNsaWNrXCIsIGVtcHR5U2VhcmNoKTtcblxuICAgIC8qXG4gICAgICogU2hvdyBkaWZmZXJlbnQgcmVzdWx0cyBvbiBzZWFyY2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSZXN1bHRzKGUpe1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKS52YWwoKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICBpZigkdGhpcyA9PT0gXCJcIil7XG4gICAgICAgICRyZXN1bHQuY2xvc2VzdChcIi5jb2wtbGctMy5jb2wtbWQtNC5jb2wtc20tNlwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICRzZWFyY2hfaWNvbi5zaG93KCk7XG4gICAgICAgICRjbG9zZV9pY29uLmhpZGUoKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgICRyZXN1bHQuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgIHZhciBjb250ZW50ID0gJCh0aGlzKS5maW5kKFwiaDNcIikudGV4dCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgdmFyIHNwZWNpZXMgPSAkKHRoaXMpLmZpbmQoXCJoM1wiKS5wcm9wKFwiY2xhc3NcIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwiYW5pbWFsIFwiLCBcIlwiKTtcbiAgICAgICAgICB2YXIgbGF0aW4gPSAkKHRoaXMpLmF0dHIoXCJkYXRhLWxhdGluXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgdmFyIGdlbmVzID0gJCh0aGlzKS5maW5kKFwiaDRcIikudGV4dCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgdmFyIGV4dHJhX2dlbmVzID0gJCh0aGlzKS5maW5kKFwiaDVcIikudGV4dCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KFwiLmNvbC1sZy0zLmNvbC1tZC00LmNvbC1zbS02XCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICAgICRzZWFyY2hfaWNvbi5oaWRlKCk7XG4gICAgICAgICAgJGNsb3NlX2ljb24uc2hvdygpO1xuICAgICAgICAgIGlmKGNvbnRlbnQuaW5kZXhPZigkdGhpcykgPj0gMCB8fCBzcGVjaWVzLmluZGV4T2YoJHRoaXMpID49IDAgfHwgZ2VuZXMuaW5kZXhPZigkdGhpcykgPj0gMCB8fCBleHRyYV9nZW5lcy5pbmRleE9mKCR0aGlzKSA+PSAwIHx8IGxhdGluLmluZGV4T2YoJHRoaXMpID49IDApe1xuICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KFwiLmNvbC1sZy0zLmNvbC1tZC00LmNvbC1zbS02XCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgICAgICRzZWFyY2hfaWNvbi5zaG93KCk7XG4gICAgICAgICAgICAkY2xvc2VfaWNvbi5oaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbXB0eVNlYXJjaCgpe1xuICAgICAgJHNlYXJjaF9pbnB1dC52YWwoXCJcIik7XG4gICAgICAkc2VhcmNoX2ljb24uc2hvdygpO1xuICAgICAgJGNsb3NlX2ljb24uaGlkZSgpO1xuICAgICAgJHJlc3VsdC5jbG9zZXN0KFwiLmNvbC1sZy0zLmNvbC1tZC00LmNvbC1zbS02XCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICB9XG5cbn0pKGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24gKCQpIHtcblxuICAvKlxuICAgKiBWYXJzXG4gICAqL1xuICB2YXIgJGJvZHkgPSAkKFwiaHRtbCwgYm9keVwiKSxcbiAgICAgICRjb250YWluZXIgPSAkYm9keS5maW5kKFwiLmdlbmUtc29ydGluZ1wiKSxcbiAgICAgICRzZWxlY3QgPSAkY29udGFpbmVyLmZpbmQoXCIuY3VzdG9tLXNlbGVjdCBzZWxlY3RcIiksXG4gICAgICAkaW5wdXQgPSAkY29udGFpbmVyLmZpbmQoXCIudmFsIGlucHV0XCIpO1xuXG4gIC8qXG4gICAqIEV2ZW50c1xuICAgKi9cbiAgJHNlbGVjdC5vbihcImNoYW5nZVwiLCB1cGRhdGVGaWx0ZXJzKTtcbiAgJGlucHV0Lm9uKFwiY2hhbmdlXCIsIHVwZGF0ZUZpbHRlcnMpO1xuICAkaW5wdXQub24oXCJrZXl1cFwiLCB1cGRhdGVGaWx0ZXJzKTtcblxuICAvKlxuICAgKiBGdW5jdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZUZpbHRlcnMoZSl7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgJGdlbmVzID0gJGJvZHkuZmluZChcIi5nZW5lLWNvbnRlbnRcIiksXG4gICAgICAgIHNlbGVjdGVkID0gJHNlbGVjdC5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLnZhbCgpLFxuICAgICAgICBudW1iZXIgPSAkaW5wdXQudmFsKCk7XG5cbiAgICAkaW5wdXQucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcblxuICAgIGlmKHNlbGVjdGVkID09PSBcIjFcIiAmJiBudW1iZXIgIT09IFwiXCIpIHtcbiAgICAgICRnZW5lcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcSA9IHBhcnNlRmxvYXQoJCh0aGlzKS5maW5kKFwiLmM3XCIpLnRleHQoKSk7XG4gICAgICAgIGlmKHEgPD0gbnVtYmVyKSB7ICQodGhpcykuc2hvdygpOyB9IGVsc2UgeyAkKHRoaXMpLmhpZGUoKTsgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYoc2VsZWN0ZWQgPT09IFwiMlwiICYmIG51bWJlciAhPT0gXCJcIikge1xuICAgICAgJGdlbmVzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBxID0gcGFyc2VGbG9hdCgkKHRoaXMpLmZpbmQoXCIuYzhcIikudGV4dCgpKTtcbiAgICAgICAgaWYocSA8PSBudW1iZXIpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RlZCA9PT0gXCIzXCIgJiYgbnVtYmVyICE9PSBcIlwiKSB7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jOVwiKS50ZXh0KCkpO1xuICAgICAgICBpZihxIDw9IG51bWJlcikgeyAkKHRoaXMpLnNob3coKTsgfSBlbHNlIHsgJCh0aGlzKS5oaWRlKCk7IH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmKHNlbGVjdGVkID09PSBcIjRcIiAmJiBudW1iZXIgIT09IFwiXCIpIHtcbiAgICAgICRnZW5lcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcSA9IHBhcnNlRmxvYXQoJCh0aGlzKS5maW5kKFwiLmMxMFwiKS50ZXh0KCkpO1xuICAgICAgICBpZihxIDw9IG51bWJlcikgeyAkKHRoaXMpLnNob3coKTsgfSBlbHNlIHsgJCh0aGlzKS5oaWRlKCk7IH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmKHNlbGVjdGVkID09PSBcIjVcIiAmJiBudW1iZXIgIT09IFwiXCIpIHtcbiAgICAgICRnZW5lcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcSA9IHBhcnNlRmxvYXQoJCh0aGlzKS5maW5kKFwiLmMxMVwiKS50ZXh0KCkpO1xuICAgICAgICBpZihxIDw9IG51bWJlcikgeyAkKHRoaXMpLnNob3coKTsgfSBlbHNlIHsgJCh0aGlzKS5oaWRlKCk7IH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmKHNlbGVjdGVkID09PSBcIjBcIikge1xuICAgICAgJGlucHV0LnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICRnZW5lcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcSA9IHBhcnNlRmxvYXQoJCh0aGlzKS5maW5kKFwiLmMzXCIpLnRleHQoKSk7XG4gICAgICAgIGlmKHEgPT09IDEpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxufSkoalF1ZXJ5KTtcbiIsIihmdW5jdGlvbiAoJCkge1xuXG4gIC8qXG4gICAqIFZhcnNcbiAgICovXG4gIHZhciAkYm9keSA9ICQoXCJodG1sLCBib2R5XCIpLFxuICAgICAgJGNvbnRhaW5lciA9ICRib2R5LmZpbmQoXCIuZ2VuZS1zb3J0aW5nXCIpLFxuICAgICAgJHNlbGVjdCA9ICRjb250YWluZXIuZmluZChcIi5jdXN0b20tc2VsZWN0IHNlbGVjdFwiKSxcbiAgICAgICRpbnB1dCA9ICRjb250YWluZXIuZmluZChcIi52YWwgaW5wdXRcIiksXG4gICAgICAkdm9sY2FubyA9ICRib2R5LmZpbmQoXCIudm9sY2Fuby1ob2xkZXJcIiksXG4gICAgICAkdm9sY2Fub19wbG90ID0gJGJvZHkuZmluZChcIi52b2xjYW5vXCIpLFxuICAgICAgJHZvbGNhbm9fb3ZlcmxheSA9ICRib2R5LmZpbmQoXCIub3ZlcmxheVwiKTtcblxuICAvKlxuICAgKiBFdmVudHNcbiAgICovXG4gICRzZWxlY3Qub24oXCJjaGFuZ2VcIiwgdXBkYXRlRmlsdGVycyk7XG4gICRpbnB1dC5vbihcImNoYW5nZVwiLCB1cGRhdGVGaWx0ZXJzKTtcbiAgJGlucHV0Lm9uKFwia2V5dXBcIiwgdXBkYXRlRmlsdGVycyk7XG5cbiAgLypcbiAgICogRnVuY3Rpb25zXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVGaWx0ZXJzKGUpe1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICRnZW5lcyA9ICRib2R5LmZpbmQoXCIuZ2VuZS1jb250ZW50XCIpLFxuICAgICAgICBzZWxlY3RlZCA9ICRzZWxlY3QuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS52YWwoKSxcbiAgICAgICAgbnVtYmVyID0gJGlucHV0LnZhbCgpO1xuXG4gICAgJGlucHV0LnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG5cbiAgICBpZihzZWxlY3RlZCA9PT0gXCIxXCIgJiYgbnVtYmVyICE9PSBcIlwiKSB7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jN1wiKS50ZXh0KCkpO1xuICAgICAgICBpZihxIDw9IG51bWJlcikgeyAkKHRoaXMpLnNob3coKTsgfSBlbHNlIHsgJCh0aGlzKS5oaWRlKCk7IH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmKHNlbGVjdGVkID09PSBcIjJcIiAmJiBudW1iZXIgIT09IFwiXCIpIHtcbiAgICAgICRnZW5lcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcSA9IHBhcnNlRmxvYXQoJCh0aGlzKS5maW5kKFwiLmM4XCIpLnRleHQoKSk7XG4gICAgICAgIGlmKHEgPD0gbnVtYmVyKSB7ICQodGhpcykuc2hvdygpOyB9IGVsc2UgeyAkKHRoaXMpLmhpZGUoKTsgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYoc2VsZWN0ZWQgPT09IFwiM1wiICYmIG51bWJlciAhPT0gXCJcIikge1xuICAgICAgJGdlbmVzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBxID0gcGFyc2VGbG9hdCgkKHRoaXMpLmZpbmQoXCIuYzlcIikudGV4dCgpKTtcbiAgICAgICAgaWYocSA8PSBudW1iZXIpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RlZCA9PT0gXCI0XCIgJiYgbnVtYmVyICE9PSBcIlwiKSB7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jMTBcIikudGV4dCgpKTtcbiAgICAgICAgaWYocSA8PSBudW1iZXIpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RlZCA9PT0gXCI1XCIgJiYgbnVtYmVyICE9PSBcIlwiKSB7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jMTFcIikudGV4dCgpKTtcbiAgICAgICAgaWYocSA8PSBudW1iZXIpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RlZCA9PT0gXCIwXCIpIHtcbiAgICAgICRpbnB1dC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jM1wiKS50ZXh0KCkpO1xuICAgICAgICBpZihxID09PSAxKSB7ICQodGhpcykuc2hvdygpOyB9IGVsc2UgeyAkKHRoaXMpLmhpZGUoKTsgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbn0pKGpRdWVyeSk7XG4iXX0=
