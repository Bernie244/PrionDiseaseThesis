var Adapter,isSvgChild,hasProp={}.hasOwnProperty,slice=[].slice;Adapter=function(){function t(){}var e,n;return t.prototype.name="native",t.prototype.domReady=function(t){var e,n,o,i,a,r,s,l,c,d,p;if(o=!1,d=!0,p=window,n=document,"complete"===(s=n.readyState)||"loaded"===s)return t();if(c=n.documentElement,e=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",r=n.addEventListener?"":"on",i=function(e){if("readystatechange"!==e.type||"complete"===n.readyState)return("load"===e.type?p:n)[l](r+e.type,i,!1),o?void 0:(o=!0,t())},a=function(){try{c.doScroll("left")}catch(t){return t,void setTimeout(a,50)}return i("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{d=!p.frameElement}catch(t){}d&&a()}return n[e](r+"DOMContentLoaded",i,!1),n[e](r+"readystatechange",i,!1),p[e](r+"load",i,!1)}},t.prototype.create=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,this.wrap(e.childNodes)},t.prototype.wrap=function(t){var e;return t?"string"==typeof t?(t=this.find(document.body,t),t=t?[t]:[]):t instanceof NodeList?t=function(){var n,o,i;for(i=[],n=0,o=t.length;n<o;n++)e=t[n],i.push(e);return i}():t instanceof Array||(t=[t]):t=[],t},t.prototype.unwrap=function(t){return this.wrap(t)[0]},t.prototype.tagName=function(t){return this.unwrap(t).tagName},t.prototype.attr=function(t,e,n){return 3===arguments.length?this.unwrap(t).setAttribute(e,n):this.unwrap(t).getAttribute(e)},n=0,e={},t.prototype.data=function(t,o,i){var a;return a=this.attr(t,"data-id"),a||(a=++n,this.attr(t,"data-id",a),e[a]={}),3===arguments.length?e[a][o]=i:null!=(i=e[a][o])?i:(i=this.attr(t,"data-"+Opentip.prototype.dasherize(o)),i&&(e[a][o]=i),i)},t.prototype.find=function(t,e){return this.unwrap(t).querySelector(e)},t.prototype.findAll=function(t,e){return this.unwrap(t).querySelectorAll(e)},t.prototype.update=function(t,e,n){return t=this.unwrap(t),n?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.innerHTML=e},t.prototype.append=function(t,e){var n,o;return n=this.unwrap(e),o=this.unwrap(t),o.appendChild(n)},t.prototype.remove=function(t){var e;if(t=this.unwrap(t),null!=(e=t.parentNode))return e.removeChild(t)},t.prototype.addClass=function(t,e){return this.unwrap(t).classList.add(e)},t.prototype.removeClass=function(t,e){return this.unwrap(t).classList.remove(e)},t.prototype.css=function(t,e){var n,o,i;t=this.unwrap(this.wrap(t)),o=[];for(n in e)hasProp.call(e,n)&&(i=e[n],o.push(t.style[n]=i));return o},t.prototype.dimensions=function(t){var e,n;return t=this.unwrap(this.wrap(t)),e={width:isSvgChild(t)?t.getBoundingClientRect().width:t.offsetWidth,height:isSvgChild(t)?t.getBoundingClientRect().height:t.offsetHeight},e.width&&e.height||(n={position:t.style.position||"",visibility:t.style.visibility||"",display:t.style.display||""},this.css(t,{position:"absolute",visibility:"hidden",display:"block"}),e={width:t.offsetWidth,height:t.offsetHeight},this.css(t,n)),e},t.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},t.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},t.prototype.mousePosition=function(t){var e;if(e={x:0,y:0},null==t&&(t=window.event),null!=t){try{t.pageX||t.pageY?(e.x=t.pageX,e.y=t.pageY):(t.clientX||t.clientY)&&(e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop)}catch(e){t=e}return e}},t.prototype.offset=function(t){var e;for(t=this.unwrap(t),e={top:t.offsetTop,left:t.offsetLeft},null!=t&&isSvgChild(t)&&(e.top=t.getBoundingClientRect().top+(document.documentElement.scrollTop||document.body.scrollTop),e.left=t.getBoundingClientRect().left+(document.documentElement.scrollLeft||document.body.scrollLeft));t=t.offsetParent;)e.top+=t.offsetTop,e.left+=t.offsetLeft,t!==document.body&&(e.top-=t.scrollTop,e.left-=t.scrollLeft);return e},t.prototype.observe=function(t,e,n){return this.unwrap(t).addEventListener(e,n,!1)},t.prototype.stopObserving=function(t,e,n){return this.unwrap(t).removeEventListener(e,n,!1)},t.prototype.ajax=function(t){var e,n,o,i;if(null==t.url)throw new Error("No url provided");if(window.XMLHttpRequest)i=new XMLHttpRequest;else if(window.ActiveXObject)try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=t;try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=t}}if(!i)throw new Error("Can't create XMLHttpRequest");return i.onreadystatechange=function(){if(4===i.readyState){try{200===i.status?"function"==typeof t.onSuccess&&t.onSuccess(i.responseText):"function"==typeof t.onError&&t.onError("Server responded with status "+i.status)}catch(n){e=n,"function"==typeof t.onError&&t.onError(e.message)}return"function"==typeof t.onComplete?t.onComplete():void 0}},i.open(null!=(n=null!=(o=t.method)?o.toUpperCase():void 0)?n:"GET",t.url),i.send()},t.prototype.clone=function(t){var e,n,o;n={};for(e in t)hasProp.call(t,e)&&(o=t[e],n[e]=o);return n},t.prototype.extend=function(){var t,e,n,o,i,a,r;for(a=arguments[0],i=2<=arguments.length?slice.call(arguments,1):[],t=0,n=i.length;t<n;t++){o=i[t];for(e in o)hasProp.call(o,e)&&(r=o[e],a[e]=r)}return a},t}(),isSvgChild=function(t){var e;for(e=t.parentNode;"BODY"!==e.nodeName;){if("svg"===e.nodeName)return!0;e=e.parentNode}return!1},Opentip.addAdapter(new Adapter),function(t){function e(e){t(this);o.toggleClass("list_dropdown")}var n=t("html, body"),o=n.find(".list-options");o.find(".option"),o.find(".active");o.on("click",e)}(jQuery),function(t){function e(e){var n=t(this),i=n.prop("class");o.find("div").removeClass("active"),n.addClass("active"),"all"==i&&t(".plot").show(),"raw"==i&&(t(".pp").hide(),t(".pr").show()),"processed"==i&&(t(".pp").show(),t(".pr").hide())}var n=t("html, body"),o=n.find(".visuals .filters");o.find("div").on("click",e)}(jQuery),function(t){function e(e){var n=t(this),o=n.prop("for"),a=i.find(".firstS");"Other"===o?(a.prop("readonly",!1),a.prop("value",""),a.prop("placeholder","Species name"),a.removeClass("readonly")):(a.prop("readonly",!0),a.prop("value",""),a.prop("placeholder",o),a.addClass("readonly"))}var n=t("html, body"),o=n.find(".choices"),i=n.find(".speciesSelected");o.find("label").on("click",e),t("div.dropzone").dropzone({url:"/file/post"})}(jQuery),function(t){function e(){r>=5?(clearInterval(o),t(".preloader").hide(),t(".gene-sorting").show(),i.find(".gene-content").each(function(){1===parseFloat(t(this).find(".c3").text())?t(this).show():t(this).hide()}),t(".dnapreloader").hide()):(n(r),r++,console.log(s))}function n(e){console.log(e);for(var n=e,o=30*(n-1);o<30*n;o++){var i=s[0].length;a.find(".gene").append("<div class='gene-content ge"+o+" clearfix'></div>");for(var r=0;r<i;r++)t(".ge"+o).append("<div class='co c"+r+"'>"+s[o][r]+"</div>")}}var o,i=t("html, body"),a=i.find(".gene-holder"),r=1,s=[];i.hasClass("datasett")&&Papa.parse("/data/TBIL-01/finalResults.csv",{download:!0,complete:function(t){s=t.data,o=setInterval(function(){e()},1e3)}})}(jQuery),particlesJS.load("particles-js","/data/particlesjs.json"),function(t){function e(e){var n=t(this).val().toLowerCase();console.log(n),""===n?(r.closest(".col-lg-3.col-md-4.col-sm-6").css("display","block"),s.show(),l.hide()):r.each(function(){var e=t(this).find("h3").text().toLowerCase(),o=t(this).find("h3").prop("class").toLowerCase().replace("animal ",""),i=t(this).attr("data-latin").toLowerCase(),a=t(this).find("h4").text().toLowerCase();t(this).closest(".col-lg-3.col-md-4.col-sm-6").css("display","none"),s.hide(),l.show(),(e.indexOf(n)>=0||o.indexOf(n)>=0||a.indexOf(n)>=0||i.indexOf(n)>=0)&&(t(this).closest(".col-lg-3.col-md-4.col-sm-6").css("display","block"),s.show(),l.hide())})}function n(){a.val(""),s.show(),l.hide(),r.closest(".col-lg-3.col-md-4.col-sm-6").css("display","block")}var o=t("body"),i=o.find(".search-holder"),a=i.find("input"),r=(o.find(".results"),o.find(".result")),s=o.find(".fa-search"),l=o.find(".fa-close");a.on("keyup",e),l.on("click",n)}(jQuery),function(t){function e(e){var o=(t(this),n.find(".gene-content")),r=i.find("option:selected").val(),s=a.val();a.prop("disabled",!1),"1"===r&&""!==s?o.each(function(){parseFloat(t(this).find(".c7").text())<=s?t(this).show():t(this).hide()}):"2"===r&&""!==s?o.each(function(){parseFloat(t(this).find(".c8").text())<=s?t(this).show():t(this).hide()}):"3"===r&&""!==s?o.each(function(){parseFloat(t(this).find(".c9").text())<=s?t(this).show():t(this).hide()}):"4"===r&&""!==s?o.each(function(){parseFloat(t(this).find(".c10").text())<=s?t(this).show():t(this).hide()}):"5"===r&&""!==s?o.each(function(){parseFloat(t(this).find(".c11").text())<=s?t(this).show():t(this).hide()}):"0"===r&&(a.prop("disabled",!0),o.each(function(){1===parseFloat(t(this).find(".c3").text())?t(this).show():t(this).hide()}))}var n=t("html, body"),o=n.find(".gene-sorting"),i=o.find(".custom-select select"),a=o.find(".val input");i.on("change",e),a.on("change",e),a.on("keyup",e)}(jQuery);var getId=function(t){return t._row},getSymbol=function(t){return t.Symbol},getX=function(t){return t.logFC},getY=function(t){return t["adj.P.Val"]},getScaled=function(t,e){return function(n){return Math.round(t(e(n)))}},isSignificant=function(t){return!!(Math.abs(getX(t))>1&&getY(t)<.05)},margin={top:20,right:20,bottom:40,left:40},axesMargin=10,width=500-margin.left-margin.right-axesMargin,height=360-margin.top-margin.bottom-axesMargin,legendWidth=110,legendHeight=60,radius=3,border=2,xScale=d3.scale.linear().range([0,width]),yScale=d3.scale.log().range([0,height]),xAxis=d3.svg.axis().scale(xScale).orient("bottom"),yAxis=d3.svg.axis().scale(yScale).orient("left"),svgVolcano=d3.select(".plot .volcano").append("svg").style("width",width+margin.left+margin.right).style("height",height+margin.top+margin.bottom),plot=svgVolcano.append("g").attr("transform","translate("+margin.left+","+margin.top+")");d3.json("/data/TBIL-01/volcano-plot.json",function(t,e){if(t)throw t;xScale.domain(d3.extent(e,getX)),yScale.domain(d3.extent(e,getY)),plot.append("g").attr("class","y axis").attr("transform","translate(0,"+-axesMargin+")").call(yAxis).append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("-Log10 P-Value"),plot.append("g").attr("class","x axis").attr("transform","translate("+axesMargin+","+height+")").call(xAxis).append("text").attr("class","label").attr("x",width).attr("y",-6).style("text-anchor","end").text("Log2 Fold Changes");var n=plot.append("g").attr("class","scatter").attr("transform","translate("+axesMargin+","+-axesMargin+")"),o=n.selectAll("circle").data(e,getId).enter().append("circle").attr("cx",getScaled(xScale,getX)).attr("cy",getScaled(yScale,getY)).attr("r",radius).classed("significant",isSignificant),i=d3.scale.ordinal().domain([!0,!1]).rangeRoundPoints([0,legendHeight],1.5),a=n.append("g").attr("class","legend").attr("transform","translate("+(width-legendWidth)+",0)"),r=a.selectAll("g").data([{"adj.P.Val":.01,logFC:1.5},{"adj.P.Val":.5,logFC:.5}]).enter().append("g");r.append("circle").attr("r",radius).attr("cx",20).attr("cy",function(t){return i(isSignificant(t))}).classed("significant",isSignificant),r.append("text").attr("class","label").attr("x",30).attr("y",function(t){return i(isSignificant(t))}).style("dominant-baseline","middle").style("text-anchor","begin").text(function(t){return(isSignificant(t)?"":"not ")+"significant"});var s=d3.geom.voronoi().x(getScaled(xScale,getX)).y(getScaled(yScale,getY)).clipExtent([[0,0],[width,height]]),l=plot.append("g").attr("class","voronoi").attr("transform","translate("+axesMargin+","+-axesMargin+")");d3.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})},svgVolcano.append("defs").selectAll("clipPath").data(e).enter().append("svg:clipPath").attr("id",getId).append("circle").attr("cx",getScaled(xScale,getX)).attr("cy",getScaled(yScale,getY)).attr("r",20);var c=l.selectAll("path").data(s(e).map(d3.geom.polygon).filter(function(t){return function(e){return e.area()>t}}(Math.pow(radius+border/2,2)*Math.PI))).enter().append("svg:polygon").attr("points",function(t){if(t)return t.map(function(t){return[Math.round(t[0]),Math.round(t[1])]}).join(",")}).attr("clip-path",function(t){return"url(#"+getId(t.point)+")"}).attr("class","invisible");o.each(function(t){var e="<p>ID: "+getId(t)+"<br>Log2 Fold Changes: "+getX(t)+"<br>Adjusted P-Value: "+getY(t)+"</p>";new Opentip(this,e,{title:getSymbol(t),background:"white",borderColor:"darkgray",borderWidth:2,delay:.25,hideDelay:0,shadow:!1,stem:"center bottom",target:!0,targetJoint:"center top",tipJoint:"center bottom",showOn:"mouseenter",hideOn:"mouseleave"})}),o.on("mouseenter",function(){d3.select(this).classed("hover",!0).moveToFront()}),o.on("mouseleave",function(){d3.select(this).classed("hover",!1)});var d=function(t){var e=document.createEvent("SVGEvents");e.initEvent(d3.event.type,!0,!0),o.data([t.point],getId).node().dispatchEvent(e)};c.on("mouseenter",d),c.on("mouseleave",d)}),function(t){function e(e){var o=(t(this),n.find(".gene-content")),r=i.find("option:selected").val(),s=a.val();a.prop("disabled",!1),"1"===r&&""!==s?o.each(function(){parseFloat(t(this).find(".c7").text())<=s?t(this).show():t(this).hide()}):"2"===r&&""!==s?o.each(function(){parseFloat(t(this).find(".c8").text())<=s?t(this).show():t(this).hide()}):"3"===r&&""!==s?o.each(function(){parseFloat(t(this).find(".c9").text())<=s?t(this).show():t(this).hide()}):"4"===r&&""!==s?o.each(function(){parseFloat(t(this).find(".c10").text())<=s?t(this).show():t(this).hide()}):"5"===r&&""!==s?o.each(function(){parseFloat(t(this).find(".c11").text())<=s?t(this).show():t(this).hide()}):"0"===r&&(a.prop("disabled",!0),o.each(function(){1===parseFloat(t(this).find(".c3").text())?t(this).show():t(this).hide()}))}var n=t("html, body"),o=n.find(".gene-sorting"),i=o.find(".custom-select select"),a=o.find(".val input");n.find(".volcano-holder"),n.find(".volcano"),n.find(".overlay");i.on("change",e),a.on("change",e),a.on("keyup",e)}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkYXB0ZXItbmF0aXZlLmpzIiwiZHJvcGRvd24uanMiLCJmaWx0ZXIuanMiLCJmb3JtLmpzIiwiZ2VuZXMuanMiLCJwYXJ0aWNsZS5qcyIsInNlYXJjaC5qcyIsInNvcnRpbmcuanMiLCJ2b2xjYW5vLXBsb3QuanMiLCJ2b2xjYW5vLmpzIl0sIm5hbWVzIjpbIkFkYXB0ZXIiLCJpc1N2Z0NoaWxkIiwiaGFzUHJvcCIsImhhc093blByb3BlcnR5Iiwic2xpY2UiLCJkYXRhVmFsdWVzIiwibGFzdERhdGFJZCIsInByb3RvdHlwZSIsIm5hbWUiLCJkb21SZWFkeSIsImNhbGxiYWNrIiwiYWRkIiwiZG9jIiwiZG9uZSIsImluaXQiLCJwb2xsIiwicHJlIiwicmVmIiwicmVtIiwicm9vdCIsInRvcCIsIndpbiIsIndpbmRvdyIsImRvY3VtZW50IiwicmVhZHlTdGF0ZSIsImRvY3VtZW50RWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidHlwZSIsImRvU2Nyb2xsIiwiX2Vycm9yIiwic2V0VGltZW91dCIsImNyZWF0ZUV2ZW50T2JqZWN0IiwiZnJhbWVFbGVtZW50IiwiY3JlYXRlIiwiaHRtbFN0cmluZyIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJ0aGlzIiwid3JhcCIsImNoaWxkTm9kZXMiLCJlbGVtZW50IiwiZWwiLCJmaW5kIiwiYm9keSIsIk5vZGVMaXN0IiwiaSIsImxlbiIsInJlc3VsdHMiLCJsZW5ndGgiLCJwdXNoIiwiQXJyYXkiLCJ1bndyYXAiLCJ0YWdOYW1lIiwiYXR0ciIsInZhbHVlIiwiYXJndW1lbnRzIiwic2V0QXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwiZGF0YSIsImRhdGFJZCIsIk9wZW50aXAiLCJkYXNoZXJpemUiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJmaW5kQWxsIiwicXVlcnlTZWxlY3RvckFsbCIsInVwZGF0ZSIsImNvbnRlbnQiLCJlc2NhcGUiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiYXBwZW5kIiwiY2hpbGQiLCJ1bndyYXBwZWRDaGlsZCIsInVud3JhcHBlZEVsZW1lbnQiLCJyZW1vdmUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJhZGRDbGFzcyIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInJlbW92ZUNsYXNzIiwiY3NzIiwicHJvcGVydGllcyIsImtleSIsImNhbGwiLCJzdHlsZSIsImRpbWVuc2lvbnMiLCJyZXZlcnQiLCJ3aWR0aCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9mZnNldFdpZHRoIiwiaGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwicG9zaXRpb24iLCJ2aXNpYmlsaXR5IiwiZGlzcGxheSIsInNjcm9sbE9mZnNldCIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsTGVmdCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwidmlld3BvcnREaW1lbnNpb25zIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJtb3VzZVBvc2l0aW9uIiwicG9zIiwieCIsInkiLCJldmVudCIsInBhZ2VYIiwicGFnZVkiLCJjbGllbnRYIiwiY2xpZW50WSIsIm9mZnNldCIsIm9mZnNldFRvcCIsImxlZnQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0UGFyZW50Iiwib2JzZXJ2ZSIsImV2ZW50TmFtZSIsIm9ic2VydmVyIiwic3RvcE9ic2VydmluZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhamF4Iiwib3B0aW9ucyIsInJlZjEiLCJyZXF1ZXN0IiwidXJsIiwiRXJyb3IiLCJYTUxIdHRwUmVxdWVzdCIsIkFjdGl2ZVhPYmplY3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJzdGF0dXMiLCJvblN1Y2Nlc3MiLCJyZXNwb25zZVRleHQiLCJvbkVycm9yIiwibWVzc2FnZSIsIm9uQ29tcGxldGUiLCJvcGVuIiwibWV0aG9kIiwidG9VcHBlckNhc2UiLCJzZW5kIiwiY2xvbmUiLCJvYmplY3QiLCJuZXdPYmplY3QiLCJ2YWwiLCJleHRlbmQiLCJzb3VyY2UiLCJzb3VyY2VzIiwidGFyZ2V0IiwicGFyZW50Iiwibm9kZU5hbWUiLCJhZGRBZGFwdGVyIiwiJCIsInRvZ2dsZURyb3Bkb3duIiwiJGxpc3QiLCJ0b2dnbGVDbGFzcyIsIiRib2R5Iiwib24iLCJqUXVlcnkiLCJjaGFuZ2VGaWx0ZXIiLCIkdGhpcyIsInNlbGVjdGVkIiwicHJvcCIsIiRmaWx0ZXIiLCJzaG93IiwiaGlkZSIsInNldFNwZWNpZXMiLCJzcGVjaWVzIiwiZmlyc3QiLCIkc3BlY2llc1NlbGVjdGVkIiwiJGNob2ljZXMiLCJkcm9wem9uZSIsInVwZGF0ZVRhYmxlIiwiY291bnQiLCJjbGVhckludGVydmFsIiwidGltIiwiZWFjaCIsInBhcnNlRmxvYXQiLCJ0ZXh0IiwibG9hZEFsbENvbnRlbnQiLCJjb25zb2xlIiwibG9nIiwibG9hZGVkIiwidyIsInN0ZXAiLCJsZSIsIiRob2xkZXIiLCJkIiwiaGFzQ2xhc3MiLCJQYXBhIiwicGFyc2UiLCJkb3dubG9hZCIsImNvbXBsZXRlIiwic2V0SW50ZXJ2YWwiLCJwYXJ0aWNsZXNKUyIsImxvYWQiLCJnZXRSZXN1bHRzIiwidG9Mb3dlckNhc2UiLCIkcmVzdWx0IiwiY2xvc2VzdCIsIiRzZWFyY2hfaWNvbiIsIiRjbG9zZV9pY29uIiwicmVwbGFjZSIsImxhdGluIiwiZ2VuZXMiLCJpbmRleE9mIiwiZW1wdHlTZWFyY2giLCIkc2VhcmNoX2lucHV0IiwiJHNlYXJjaF9ob2xkZXIiLCJ1cGRhdGVGaWx0ZXJzIiwiJGdlbmVzIiwiJHNlbGVjdCIsIm51bWJlciIsIiRpbnB1dCIsIiRjb250YWluZXIiLCJnZXRJZCIsImdldFN5bWJvbCIsImdldFgiLCJnZXRZIiwiZ2V0U2NhbGVkIiwic2NhbGUiLCJhY2Nlc3NvciIsIk1hdGgiLCJyb3VuZCIsImlzU2lnbmlmaWNhbnQiLCJhYnMiLCJtYXJnaW4iLCJyaWdodCIsImJvdHRvbSIsImF4ZXNNYXJnaW4iLCJsZWdlbmRXaWR0aCIsImxlZ2VuZEhlaWdodCIsInJhZGl1cyIsImJvcmRlciIsInhTY2FsZSIsImQzIiwibGluZWFyIiwicmFuZ2UiLCJ5U2NhbGUiLCJ4QXhpcyIsInN2ZyIsImF4aXMiLCJvcmllbnQiLCJ5QXhpcyIsInN2Z1ZvbGNhbm8iLCJzZWxlY3QiLCJwbG90IiwianNvbiIsImVycm9yIiwiZG9tYWluIiwiZXh0ZW50Iiwic2NhdHRlciIsImNpcmNsZXMiLCJzZWxlY3RBbGwiLCJlbnRlciIsImNsYXNzZWQiLCJsZWdlbmRTY2FsZSIsIm9yZGluYWwiLCJyYW5nZVJvdW5kUG9pbnRzIiwibGVnZW5kIiwibGVnZW5kRW50cnkiLCJhZGouUC5WYWwiLCJsb2dGQyIsInZvcm9ub2kiLCJnZW9tIiwiY2xpcEV4dGVudCIsInZvcm9ub2lHIiwic2VsZWN0aW9uIiwibW92ZVRvRnJvbnQiLCJwYXRocyIsIm1hcCIsInBvbHlnb24iLCJmaWx0ZXIiLCJtaW5BcmVhIiwiYXJlYSIsInBvdyIsIlBJIiwiam9pbiIsInBvaW50IiwidGl0bGUiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImRlbGF5IiwiaGlkZURlbGF5Iiwic2hhZG93Iiwic3RlbSIsInRhcmdldEpvaW50IiwidGlwSm9pbnQiLCJzaG93T24iLCJoaWRlT24iLCJmb3J3YXJkRXZlbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsIm5vZGUiLCJkaXNwYXRjaEV2ZW50Il0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxTQUFBQyxXQUNBQyxXQUFBQyxlQUNBQyxTQUFBQSxLQUVBSixTQUFBLFdBR0EsUUFBQUEsTUFGQSxHQUFBSyxHQUFBQyxDQTRWQSxPQXhWQU4sR0FBQU8sVUFBQUMsS0FBQSxTQUVBUixFQUFBTyxVQUFBRSxTQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsQ0FLQSxJQUpBUixHQUFBLEVBQ0FPLEdBQUEsRUFDQUMsRUFBQUMsT0FDQVYsRUFBQVcsU0FDQSxjQUFBTixFQUFBTCxFQUFBWSxhQUFB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QUssS0FBQSxPQUFBMEksU0FDQWtDLEVBQUE1RCxFQUFBckgsTUFBQWlJLE9BQUFaLEVBQUFySCxNQUFBa0ksU0FHQSxNQUFBSixHQUFBLEtBQUFtRCxFQUNBRixFQUFBbEMsS0FBQSxXQUNBQyxXQUFBekIsRUFBQXJILE1BQUFLLEtBQUEsT0FBQTBJLFNBQ0FrQyxFQUFBNUQsRUFBQXJILE1BQUFpSSxPQUFBWixFQUFBckgsTUFBQWtJLFNBR0EsTUFBQUosR0FBQSxLQUFBbUQsRUFDQUYsRUFBQWxDLEtBQUEsV0FDQUMsV0FBQXpCLEVBQUFySCxNQUFBSyxLQUFBLFFBQUEwSSxTQUNBa0MsRUFBQTVELEVBQUFySCxNQUFBaUksT0FBQVosRUFBQXJILE1BQUFrSSxTQUdBLE1BQUFKLEdBQUEsS0FBQW1ELEVBQ0FGLEVBQUFsQyxLQUFBLFdBQ0FDLFdBQUF6QixFQUFBckgsTUFBQUssS0FBQSxRQUFBMEksU0FDQWtDLEVBQUE1RCxFQUFBckgsTUFBQWlJLE9BQUFaLEVBQUFySCxNQUFBa0ksU0FHQSxNQUFBSixJQUNBb0QsRUFBQW5ELEtBQUEsWUFBQSxHQUNBZ0QsRUFBQWxDLEtBQUEsV0FFQSxJQURBQyxXQUFBekIsRUFBQXJILE1BQUFLLEtBQUEsT0FBQTBJLFFBQ0ExQixFQUFBckgsTUFBQWlJLE9BQUFaLEVBQUFySCxNQUFBa0ksVUE1REEsR0FBQVQsR0FBQUosRUFBQSxjQUNBOEQsRUFBQTFELEVBQUFwSCxLQUFBLGlCQUNBMkssRUFBQUcsRUFBQTlLLEtBQUEseUJBQ0E2SyxFQUFBQyxFQUFBOUssS0FBQSxhQUNBb0gsR0FBQXBILEtBQUEsbUJBQ0FvSCxFQUFBcEgsS0FBQSxZQUNBb0gsRUFBQXBILEtBQUEsV0FLQTJLLEdBQUF0RCxHQUFBLFNBQUFvRCxHQUNBSSxFQUFBeEQsR0FBQSxTQUFBb0QsR0FDQUksRUFBQXhELEdBQUEsUUFBQW9ELElBb0RBbkQiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQWRhcHRlciwgaXNTdmdDaGlsZCxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5LFxuICBzbGljZSA9IFtdLnNsaWNlO1xuXG5BZGFwdGVyID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgZGF0YVZhbHVlcywgbGFzdERhdGFJZDtcblxuICBmdW5jdGlvbiBBZGFwdGVyKCkge31cblxuICBBZGFwdGVyLnByb3RvdHlwZS5uYW1lID0gXCJuYXRpdmVcIjtcblxuICBBZGFwdGVyLnByb3RvdHlwZS5kb21SZWFkeSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdmFyIGFkZCwgZG9jLCBkb25lLCBpbml0LCBwb2xsLCBwcmUsIHJlZiwgcmVtLCByb290LCB0b3AsIHdpbjtcbiAgICBkb25lID0gZmFsc2U7XG4gICAgdG9wID0gdHJ1ZTtcbiAgICB3aW4gPSB3aW5kb3c7XG4gICAgZG9jID0gZG9jdW1lbnQ7XG4gICAgaWYgKChyZWYgPSBkb2MucmVhZHlTdGF0ZSkgPT09IFwiY29tcGxldGVcIiB8fCByZWYgPT09IFwibG9hZGVkXCIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cbiAgICByb290ID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICBhZGQgPSAoZG9jLmFkZEV2ZW50TGlzdGVuZXIgPyBcImFkZEV2ZW50TGlzdGVuZXJcIiA6IFwiYXR0YWNoRXZlbnRcIik7XG4gICAgcmVtID0gKGRvYy5hZGRFdmVudExpc3RlbmVyID8gXCJyZW1vdmVFdmVudExpc3RlbmVyXCIgOiBcImRldGFjaEV2ZW50XCIpO1xuICAgIHByZSA9IChkb2MuYWRkRXZlbnRMaXN0ZW5lciA/IFwiXCIgOiBcIm9uXCIpO1xuICAgIGluaXQgPSBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50eXBlID09PSBcInJlYWR5c3RhdGVjaGFuZ2VcIiAmJiBkb2MucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIChlLnR5cGUgPT09IFwibG9hZFwiID8gd2luIDogZG9jKVtyZW1dKHByZSArIGUudHlwZSwgaW5pdCwgZmFsc2UpO1xuICAgICAgaWYgKCFkb25lKSB7XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHBvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcm9vdC5kb1Njcm9sbChcImxlZnRcIik7XG4gICAgICB9IGNhdGNoIChfZXJyb3IpIHtcbiAgICAgICAgZSA9IF9lcnJvcjtcbiAgICAgICAgc2V0VGltZW91dChwb2xsLCA1MCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbml0KFwicG9sbFwiKTtcbiAgICB9O1xuICAgIGlmIChkb2MucmVhZHlTdGF0ZSAhPT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICBpZiAoZG9jLmNyZWF0ZUV2ZW50T2JqZWN0ICYmIHJvb3QuZG9TY3JvbGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0b3AgPSAhd2luLmZyYW1lRWxlbWVudDtcbiAgICAgICAgfSBjYXRjaCAoX2Vycm9yKSB7fVxuICAgICAgICBpZiAodG9wKSB7XG4gICAgICAgICAgcG9sbCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkb2NbYWRkXShwcmUgKyBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgaW5pdCwgZmFsc2UpO1xuICAgICAgZG9jW2FkZF0ocHJlICsgXCJyZWFkeXN0YXRlY2hhbmdlXCIsIGluaXQsIGZhbHNlKTtcbiAgICAgIHJldHVybiB3aW5bYWRkXShwcmUgKyBcImxvYWRcIiwgaW5pdCwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBBZGFwdGVyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihodG1sU3RyaW5nKSB7XG4gICAgdmFyIGRpdjtcbiAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdi5pbm5lckhUTUwgPSBodG1sU3RyaW5nO1xuICAgIHJldHVybiB0aGlzLndyYXAoZGl2LmNoaWxkTm9kZXMpO1xuICB9O1xuXG4gIEFkYXB0ZXIucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGVsO1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgZWxlbWVudCA9IFtdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGVsZW1lbnQgPSB0aGlzLmZpbmQoZG9jdW1lbnQuYm9keSwgZWxlbWVudCk7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudCA/IFtlbGVtZW50XSA6IFtdO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIE5vZGVMaXN0KSB7XG4gICAgICBlbGVtZW50ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSwgbGVuLCByZXN1bHRzO1xuICAgICAgICByZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGVsZW1lbnQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBlbCA9IGVsZW1lbnRbaV07XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgIH0pKCk7XG4gICAgfSBlbHNlIGlmICghKGVsZW1lbnQgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgIGVsZW1lbnQgPSBbZWxlbWVudF07XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50O1xuICB9O1xuXG4gIEFkYXB0ZXIucHJvdG90eXBlLnVud3JhcCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwKGVsZW1lbnQpWzBdO1xuICB9O1xuXG4gIEFkYXB0ZXIucHJvdG90eXBlLnRhZ05hbWUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMudW53cmFwKGVsZW1lbnQpLnRhZ05hbWU7XG4gIH07XG5cbiAgQWRhcHRlci5wcm90b3R5cGUuYXR0ciA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIsIHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgIHJldHVybiB0aGlzLnVud3JhcChlbGVtZW50KS5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy51bndyYXAoZWxlbWVudCkuZ2V0QXR0cmlidXRlKGF0dHIpO1xuICAgIH1cbiAgfTtcblxuICBsYXN0RGF0YUlkID0gMDtcblxuICBkYXRhVmFsdWVzID0ge307XG5cbiAgQWRhcHRlci5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIGRhdGFJZDtcbiAgICBkYXRhSWQgPSB0aGlzLmF0dHIoZWxlbWVudCwgXCJkYXRhLWlkXCIpO1xuICAgIGlmICghZGF0YUlkKSB7XG4gICAgICBkYXRhSWQgPSArK2xhc3REYXRhSWQ7XG4gICAgICB0aGlzLmF0dHIoZWxlbWVudCwgXCJkYXRhLWlkXCIsIGRhdGFJZCk7XG4gICAgICBkYXRhVmFsdWVzW2RhdGFJZF0gPSB7fTtcbiAgICB9XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgIHJldHVybiBkYXRhVmFsdWVzW2RhdGFJZF1bbmFtZV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSBkYXRhVmFsdWVzW2RhdGFJZF1bbmFtZV07XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRoaXMuYXR0cihlbGVtZW50LCBcImRhdGEtXCIgKyAoT3BlbnRpcC5wcm90b3R5cGUuZGFzaGVyaXplKG5hbWUpKSk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZGF0YVZhbHVlc1tkYXRhSWRdW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIEFkYXB0ZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHJldHVybiB0aGlzLnVud3JhcChlbGVtZW50KS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfTtcblxuICBBZGFwdGVyLnByb3RvdHlwZS5maW5kQWxsID0gZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gdGhpcy51bndyYXAoZWxlbWVudCkucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gIH07XG5cbiAgQWRhcHRlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oZWxlbWVudCwgY29udGVudCwgZXNjYXBlKSB7XG4gICAgZWxlbWVudCA9IHRoaXMudW53cmFwKGVsZW1lbnQpO1xuICAgIGlmIChlc2NhcGUpIHtcbiAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIHJldHVybiBlbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvbnRlbnQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICB9XG4gIH07XG5cbiAgQWRhcHRlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24oZWxlbWVudCwgY2hpbGQpIHtcbiAgICB2YXIgdW53cmFwcGVkQ2hpbGQsIHVud3JhcHBlZEVsZW1lbnQ7XG4gICAgdW53cmFwcGVkQ2hpbGQgPSB0aGlzLnVud3JhcChjaGlsZCk7XG4gICAgdW53cmFwcGVkRWxlbWVudCA9IHRoaXMudW53cmFwKGVsZW1lbnQpO1xuICAgIHJldHVybiB1bndyYXBwZWRFbGVtZW50LmFwcGVuZENoaWxkKHVud3JhcHBlZENoaWxkKTtcbiAgfTtcblxuICBBZGFwdGVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIHBhcmVudE5vZGU7XG4gICAgZWxlbWVudCA9IHRoaXMudW53cmFwKGVsZW1lbnQpO1xuICAgIHBhcmVudE5vZGUgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudE5vZGUgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIEFkYXB0ZXIucHJvdG90eXBlLmFkZENsYXNzID0gZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMudW53cmFwKGVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgfTtcblxuICBBZGFwdGVyLnByb3RvdHlwZS5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIHJldHVybiB0aGlzLnVud3JhcChlbGVtZW50KS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gIH07XG5cbiAgQWRhcHRlci5wcm90b3R5cGUuY3NzID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvcGVydGllcykge1xuICAgIHZhciBrZXksIHJlc3VsdHMsIHZhbHVlO1xuICAgIGVsZW1lbnQgPSB0aGlzLnVud3JhcCh0aGlzLndyYXAoZWxlbWVudCkpO1xuICAgIHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoIWhhc1Byb3AuY2FsbChwcm9wZXJ0aWVzLCBrZXkpKSBjb250aW51ZTtcbiAgICAgIHZhbHVlID0gcHJvcGVydGllc1trZXldO1xuICAgICAgcmVzdWx0cy5wdXNoKGVsZW1lbnQuc3R5bGVba2V5XSA9IHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgQWRhcHRlci5wcm90b3R5cGUuZGltZW5zaW9ucyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB2YXIgZGltZW5zaW9ucywgcmV2ZXJ0O1xuICAgIGVsZW1lbnQgPSB0aGlzLnVud3JhcCh0aGlzLndyYXAoZWxlbWVudCkpO1xuICAgIGRpbWVuc2lvbnMgPSB7XG4gICAgICB3aWR0aDogaXNTdmdDaGlsZChlbGVtZW50KSA/IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggOiBlbGVtZW50Lm9mZnNldFdpZHRoLFxuICAgICAgaGVpZ2h0OiBpc1N2Z0NoaWxkKGVsZW1lbnQpID8gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgOiBlbGVtZW50Lm9mZnNldEhlaWdodFxuICAgIH07XG4gICAgaWYgKCEoZGltZW5zaW9ucy53aWR0aCAmJiBkaW1lbnNpb25zLmhlaWdodCkpIHtcbiAgICAgIHJldmVydCA9IHtcbiAgICAgICAgcG9zaXRpb246IGVsZW1lbnQuc3R5bGUucG9zaXRpb24gfHwgJycsXG4gICAgICAgIHZpc2liaWxpdHk6IGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSB8fCAnJyxcbiAgICAgICAgZGlzcGxheTogZWxlbWVudC5zdHlsZS5kaXNwbGF5IHx8ICcnXG4gICAgICB9O1xuICAgICAgdGhpcy5jc3MoZWxlbWVudCwge1xuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICB2aXNpYmlsaXR5OiBcImhpZGRlblwiLFxuICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgICAgIH0pO1xuICAgICAgZGltZW5zaW9ucyA9IHtcbiAgICAgICAgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGgsXG4gICAgICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHRcbiAgICAgIH07XG4gICAgICB0aGlzLmNzcyhlbGVtZW50LCByZXZlcnQpO1xuICAgIH1cbiAgICByZXR1cm4gZGltZW5zaW9ucztcbiAgfTtcblxuICBBZGFwdGVyLnByb3RvdHlwZS5zY3JvbGxPZmZzZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gW3dpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsIHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wXTtcbiAgfTtcblxuICBBZGFwdGVyLnByb3RvdHlwZS52aWV3cG9ydERpbWVuc2lvbnMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgIGhlaWdodDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuICAgIH07XG4gIH07XG5cbiAgQWRhcHRlci5wcm90b3R5cGUubW91c2VQb3NpdGlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgcG9zO1xuICAgIHBvcyA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfTtcbiAgICBpZiAoZSA9PSBudWxsKSB7XG4gICAgICBlID0gd2luZG93LmV2ZW50O1xuICAgIH1cbiAgICBpZiAoZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBpZiAoZS5wYWdlWCB8fCBlLnBhZ2VZKSB7XG4gICAgICAgIHBvcy54ID0gZS5wYWdlWDtcbiAgICAgICAgcG9zLnkgPSBlLnBhZ2VZO1xuICAgICAgfSBlbHNlIGlmIChlLmNsaWVudFggfHwgZS5jbGllbnRZKSB7XG4gICAgICAgIHBvcy54ID0gZS5jbGllbnRYICsgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgIHBvcy55ID0gZS5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKF9lcnJvcikge1xuICAgICAgZSA9IF9lcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuIHBvcztcbiAgfTtcblxuICBBZGFwdGVyLnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIG9mZnNldDtcbiAgICBlbGVtZW50ID0gdGhpcy51bndyYXAoZWxlbWVudCk7XG4gICAgb2Zmc2V0ID0ge1xuICAgICAgdG9wOiBlbGVtZW50Lm9mZnNldFRvcCxcbiAgICAgIGxlZnQ6IGVsZW1lbnQub2Zmc2V0TGVmdFxuICAgIH07XG4gICAgaWYgKChlbGVtZW50ICE9IG51bGwpICYmIGlzU3ZnQ2hpbGQoZWxlbWVudCkpIHtcbiAgICAgIG9mZnNldC50b3AgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKTtcbiAgICAgIG9mZnNldC5sZWZ0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCk7XG4gICAgfVxuICAgIHdoaWxlIChlbGVtZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQpIHtcbiAgICAgIG9mZnNldC50b3AgKz0gZWxlbWVudC5vZmZzZXRUb3A7XG4gICAgICBvZmZzZXQubGVmdCArPSBlbGVtZW50Lm9mZnNldExlZnQ7XG4gICAgICBpZiAoZWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICBvZmZzZXQudG9wIC09IGVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICBvZmZzZXQubGVmdCAtPSBlbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG4gIH07XG5cbiAgQWRhcHRlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50TmFtZSwgb2JzZXJ2ZXIpIHtcbiAgICByZXR1cm4gdGhpcy51bndyYXAoZWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG9ic2VydmVyLCBmYWxzZSk7XG4gIH07XG5cbiAgQWRhcHRlci5wcm90b3R5cGUuc3RvcE9ic2VydmluZyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50TmFtZSwgb2JzZXJ2ZXIpIHtcbiAgICByZXR1cm4gdGhpcy51bndyYXAoZWxlbWVudCkucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG9ic2VydmVyLCBmYWxzZSk7XG4gIH07XG5cbiAgQWRhcHRlci5wcm90b3R5cGUuYWpheCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgZSwgcmVmLCByZWYxLCByZXF1ZXN0O1xuICAgIGlmIChvcHRpb25zLnVybCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1cmwgcHJvdmlkZWRcIik7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3Q7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuQWN0aXZlWE9iamVjdCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVxdWVzdCA9IG5ldyBBY3RpdmVYT2JqZWN0KFwiTXN4bWwyLlhNTEhUVFBcIik7XG4gICAgICB9IGNhdGNoIChfZXJyb3IpIHtcbiAgICAgICAgZSA9IF9lcnJvcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXF1ZXN0ID0gbmV3IEFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKTtcbiAgICAgICAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgICAgICAgZSA9IF9lcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNyZWF0ZSBYTUxIdHRwUmVxdWVzdFwiKTtcbiAgICB9XG4gICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uU3VjY2VzcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMub25TdWNjZXNzKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uRXJyb3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IoXCJTZXJ2ZXIgcmVzcG9uZGVkIHdpdGggc3RhdHVzIFwiICsgcmVxdWVzdC5zdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgICAgICAgZSA9IF9lcnJvcjtcbiAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMub25FcnJvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBvcHRpb25zLm9uRXJyb3IoZS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvcHRpb25zLm9uQ29tcGxldGUgPT09IFwiZnVuY3Rpb25cIiA/IG9wdGlvbnMub25Db21wbGV0ZSgpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVxdWVzdC5vcGVuKChyZWYgPSAocmVmMSA9IG9wdGlvbnMubWV0aG9kKSAhPSBudWxsID8gcmVmMS50b1VwcGVyQ2FzZSgpIDogdm9pZCAwKSAhPSBudWxsID8gcmVmIDogXCJHRVRcIiwgb3B0aW9ucy51cmwpO1xuICAgIHJldHVybiByZXF1ZXN0LnNlbmQoKTtcbiAgfTtcblxuICBBZGFwdGVyLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXksIG5ld09iamVjdCwgdmFsO1xuICAgIG5ld09iamVjdCA9IHt9O1xuICAgIGZvciAoa2V5IGluIG9iamVjdCkge1xuICAgICAgaWYgKCFoYXNQcm9wLmNhbGwob2JqZWN0LCBrZXkpKSBjb250aW51ZTtcbiAgICAgIHZhbCA9IG9iamVjdFtrZXldO1xuICAgICAgbmV3T2JqZWN0W2tleV0gPSB2YWw7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmplY3Q7XG4gIH07XG5cbiAgQWRhcHRlci5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGksIGtleSwgbGVuLCBzb3VyY2UsIHNvdXJjZXMsIHRhcmdldCwgdmFsO1xuICAgIHRhcmdldCA9IGFyZ3VtZW50c1swXSwgc291cmNlcyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IHNvdXJjZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHNvdXJjZSA9IHNvdXJjZXNbaV07XG4gICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdmFsID0gc291cmNlW2tleV07XG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBBZGFwdGVyO1xuXG59KSgpO1xuXG5pc1N2Z0NoaWxkID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgcGFyZW50O1xuICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gIHdoaWxlIChwYXJlbnQubm9kZU5hbWUgIT09IFwiQk9EWVwiKSB7XG4gICAgaWYgKHBhcmVudC5ub2RlTmFtZSA9PT0gXCJzdmdcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbk9wZW50aXAuYWRkQWRhcHRlcihuZXcgQWRhcHRlcik7XG4iLCIoZnVuY3Rpb24gKCQpIHtcblxuICAgIC8qXG4gICAgICogVmFyc1xuICAgICAqL1xuICAgIHZhciAkYm9keSA9ICQoXCJodG1sLCBib2R5XCIpLFxuICAgICAgICAkbGlzdCA9ICRib2R5LmZpbmQoXCIubGlzdC1vcHRpb25zXCIpLFxuICAgICAgICAkbGlzdF9vcHRpb25zID0gJGxpc3QuZmluZChcIi5vcHRpb25cIiksXG4gICAgICAgICRsaXN0X2FjdGl2ZSA9ICRsaXN0LmZpbmQoXCIuYWN0aXZlXCIpO1xuXG4gICAgLypcbiAgICAgKiBFdmVudHNcbiAgICAgKi9cbiAgICAkbGlzdC5vbihcImNsaWNrXCIsIHRvZ2dsZURyb3Bkb3duKTtcblxuICAgIC8qXG4gICAgICogRnVuY3Rpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9nZ2xlRHJvcGRvd24oZSl7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXG4gICAgICAkbGlzdC50b2dnbGVDbGFzcyhcImxpc3RfZHJvcGRvd25cIik7XG4gICAgfVxuXG59KShqUXVlcnkpO1xuIiwiKGZ1bmN0aW9uICgkKSB7XG5cbiAgICAvKlxuICAgICAqIFZhcnNcbiAgICAgKi9cbiAgICB2YXIgJGJvZHkgPSAkKFwiaHRtbCwgYm9keVwiKSxcbiAgICAgICAgJGZpbHRlciA9ICRib2R5LmZpbmQoXCIudmlzdWFscyAuZmlsdGVyc1wiKTtcblxuICAgIC8qXG4gICAgICogRXZlbnRzXG4gICAgICovXG4gICAgJGZpbHRlci5maW5kKFwiZGl2XCIpLm9uKFwiY2xpY2tcIiwgY2hhbmdlRmlsdGVyKTtcblxuICAgIC8qXG4gICAgICogRnVuY3Rpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhbmdlRmlsdGVyKGUpe1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICBzZWxlY3RlZCA9ICR0aGlzLnByb3AoXCJjbGFzc1wiKTtcblxuICAgICAgJGZpbHRlci5maW5kKFwiZGl2XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG5cbiAgICAgIGlmKHNlbGVjdGVkID09IFwiYWxsXCIpIHtcbiAgICAgICAgJChcIi5wbG90XCIpLnNob3coKTtcbiAgICAgIH1cblxuICAgICAgaWYoc2VsZWN0ZWQgPT0gXCJyYXdcIikge1xuICAgICAgICAkKFwiLnBwXCIpLmhpZGUoKTtcbiAgICAgICAgJChcIi5wclwiKS5zaG93KCk7XG4gICAgICB9XG5cbiAgICAgIGlmKHNlbGVjdGVkID09IFwicHJvY2Vzc2VkXCIpIHtcbiAgICAgICAgJChcIi5wcFwiKS5zaG93KCk7XG4gICAgICAgICQoXCIucHJcIikuaGlkZSgpO1xuICAgICAgfVxuXG4gICAgfVxuXG59KShqUXVlcnkpO1xuIiwiKGZ1bmN0aW9uICgkKSB7XG5cbiAgICAvKlxuICAgICAqIFZhcnNcbiAgICAgKi9cbiAgICB2YXIgJGJvZHkgPSAkKFwiaHRtbCwgYm9keVwiKSxcbiAgICAgICAgJGNob2ljZXMgPSAkYm9keS5maW5kKFwiLmNob2ljZXNcIiksXG4gICAgICAgICRzcGVjaWVzU2VsZWN0ZWQgPSAkYm9keS5maW5kKFwiLnNwZWNpZXNTZWxlY3RlZFwiKTtcblxuICAgIC8qXG4gICAgICogRXZlbnRzXG4gICAgICovXG4gICAgJGNob2ljZXMuZmluZChcImxhYmVsXCIpLm9uKFwiY2xpY2tcIiwgc2V0U3BlY2llcyk7XG4gICAgJChcImRpdi5kcm9wem9uZVwiKS5kcm9wem9uZSh7IHVybDogXCIvZmlsZS9wb3N0XCIgfSk7XG5cbiAgICAvKlxuICAgICAqIEZ1bmN0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFNwZWNpZXMoZSl7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgIHNwZWNpZXMgPSAkdGhpcy5wcm9wKFwiZm9yXCIpLFxuICAgICAgICAgIGZpcnN0ID0gJHNwZWNpZXNTZWxlY3RlZC5maW5kKFwiLmZpcnN0U1wiKTtcblxuICAgICAgaWYoc3BlY2llcyA9PT0gXCJPdGhlclwiKSB7XG4gICAgICAgIGZpcnN0LnByb3AoXCJyZWFkb25seVwiLCBmYWxzZSk7XG4gICAgICAgIGZpcnN0LnByb3AoXCJ2YWx1ZVwiLCBcIlwiKTtcbiAgICAgICAgZmlyc3QucHJvcChcInBsYWNlaG9sZGVyXCIsIFwiU3BlY2llcyBuYW1lXCIpO1xuICAgICAgICBmaXJzdC5yZW1vdmVDbGFzcyhcInJlYWRvbmx5XCIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZpcnN0LnByb3AoXCJyZWFkb25seVwiLCB0cnVlKTtcbiAgICAgICAgZmlyc3QucHJvcChcInZhbHVlXCIsIFwiXCIpO1xuICAgICAgICBmaXJzdC5wcm9wKFwicGxhY2Vob2xkZXJcIiwgc3BlY2llcyk7XG4gICAgICAgIGZpcnN0LmFkZENsYXNzKFwicmVhZG9ubHlcIik7XG4gICAgICB9XG4gICAgfVxuXG59KShqUXVlcnkpO1xuIiwiKGZ1bmN0aW9uICgkKSB7XG5cbiAgICAvKlxuICAgICAqIFZhcnNcbiAgICAgKi9cbiAgICB2YXIgJGJvZHkgPSAkKFwiaHRtbCwgYm9keVwiKSxcbiAgICAgICAgJGhvbGRlciA9ICRib2R5LmZpbmQoXCIuZ2VuZS1ob2xkZXJcIik7XG5cbiAgICB2YXIgY291bnQgPSAxLFxuICAgICAgICB0aW0sXG4gICAgICAgIGxvYWRlZCA9IFtdO1xuXG4gICAgLypcbiAgICAgKiBFdmVudHNcbiAgICAgKi9cbiAgICBpZigkYm9keS5oYXNDbGFzcyhcImRhdGFzZXR0XCIpKSB7XG4gICAgICBQYXBhLnBhcnNlKFwiL2RhdGEvVEJJTC0wMS9maW5hbFJlc3VsdHMuY3N2XCIsIHtcbiAgICAgICAgZG93bmxvYWQ6IHRydWUsXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXN1bHRzKSB7XG4gICAgICAgICAgbG9hZGVkID0gcmVzdWx0cy5kYXRhO1xuICAgICAgICAgIHRpbSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7IHVwZGF0ZVRhYmxlKCk7IH0sIDEwMDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIEZ1bmN0aW9uc1xuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlVGFibGUoKSB7XG4gICAgICB2YXIgbGltaXRlZCA9IDU7XG4gICAgICAvLyBGb3IgcHJlc2VuYXRpb24gJiBwZXJmb3JtYW5jZVxuXG4gICAgICBpZihjb3VudCA+PSBsaW1pdGVkKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltKTtcbiAgICAgICAgJChcIi5wcmVsb2FkZXJcIikuaGlkZSgpO1xuICAgICAgICAkKFwiLmdlbmUtc29ydGluZ1wiKS5zaG93KCk7XG4gICAgICAgICRib2R5LmZpbmQoXCIuZ2VuZS1jb250ZW50XCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jM1wiKS50ZXh0KCkpO1xuICAgICAgICAgIGlmKHEgPT09IDEpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiLmRuYXByZWxvYWRlclwiKS5oaWRlKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG9hZEFsbENvbnRlbnQoY291bnQpO1xuICAgICAgICBjb3VudCsrO1xuICAgICAgICBjb25zb2xlLmxvZyhsb2FkZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvYWRBbGxDb250ZW50KHcpIHtcbiAgICAgIGNvbnNvbGUubG9nKHcpO1xuICAgICAgdmFyIHN0ZXAgPSB3O1xuICAgICAgZm9yKHZhciBpID0gMzAgKiAoc3RlcCAtIDEpOyBpIDwgMzAgKiBzdGVwOyBpKyspIHtcbiAgICAgICAgdmFyIGxlID0gbG9hZGVkWzBdLmxlbmd0aDtcbiAgICAgICAgJGhvbGRlci5maW5kKFwiLmdlbmVcIikuYXBwZW5kKFwiPGRpdiBjbGFzcz0nZ2VuZS1jb250ZW50IGdlXCIgKyBpICsgXCIgY2xlYXJmaXgnPjwvZGl2PlwiKTtcbiAgICAgICAgZm9yKHZhciBkID0gMDsgZCA8IGxlOyBkKyspIHtcbiAgICAgICAgICAkKFwiLmdlXCIgKyBpKS5hcHBlbmQoXCI8ZGl2IGNsYXNzPSdjbyBjXCIgKyBkICsgXCInPlwiICsgbG9hZGVkW2ldW2RdICsgXCI8L2Rpdj5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbn0pKGpRdWVyeSk7XG4iLCJwYXJ0aWNsZXNKUy5sb2FkKCdwYXJ0aWNsZXMtanMnLCAnL2RhdGEvcGFydGljbGVzanMuanNvbicpO1xuIiwiKGZ1bmN0aW9uICgkKSB7XG5cbiAgICAvKlxuICAgICAqIFZhcnNcbiAgICAgKi9cbiAgICB2YXIgJGJvZHkgPSAkKFwiYm9keVwiKSxcbiAgICAgICAgJHNlYXJjaF9ob2xkZXIgPSAkYm9keS5maW5kKFwiLnNlYXJjaC1ob2xkZXJcIiksXG4gICAgICAgICRzZWFyY2hfaW5wdXQgPSAkc2VhcmNoX2hvbGRlci5maW5kKFwiaW5wdXRcIiksXG4gICAgICAgICRyZXN1bHRzID0gJGJvZHkuZmluZChcIi5yZXN1bHRzXCIpLFxuICAgICAgICAkcmVzdWx0ID0gJGJvZHkuZmluZChcIi5yZXN1bHRcIiksXG4gICAgICAgICRzZWFyY2hfaWNvbiA9ICRib2R5LmZpbmQoXCIuZmEtc2VhcmNoXCIpLFxuICAgICAgICAkY2xvc2VfaWNvbiA9ICRib2R5LmZpbmQoXCIuZmEtY2xvc2VcIik7XG5cbiAgICAkc2VhcmNoX2lucHV0Lm9uKFwia2V5dXBcIiwgZ2V0UmVzdWx0cyk7XG4gICAgJGNsb3NlX2ljb24ub24oXCJjbGlja1wiLCBlbXB0eVNlYXJjaCk7XG5cbiAgICAvKlxuICAgICAqIFNob3cgZGlmZmVyZW50IHJlc3VsdHMgb24gc2VhcmNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmVzdWx0cyhlKXtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcykudmFsKCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgY29uc29sZS5sb2coJHRoaXMpO1xuXG4gICAgICBpZigkdGhpcyA9PT0gXCJcIil7XG4gICAgICAgICRyZXN1bHQuY2xvc2VzdChcIi5jb2wtbGctMy5jb2wtbWQtNC5jb2wtc20tNlwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICRzZWFyY2hfaWNvbi5zaG93KCk7XG4gICAgICAgICRjbG9zZV9pY29uLmhpZGUoKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgICRyZXN1bHQuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgIHZhciBjb250ZW50ID0gJCh0aGlzKS5maW5kKFwiaDNcIikudGV4dCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgdmFyIHNwZWNpZXMgPSAkKHRoaXMpLmZpbmQoXCJoM1wiKS5wcm9wKFwiY2xhc3NcIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwiYW5pbWFsIFwiLCBcIlwiKTtcbiAgICAgICAgICB2YXIgbGF0aW4gPSAkKHRoaXMpLmF0dHIoXCJkYXRhLWxhdGluXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgdmFyIGdlbmVzID0gJCh0aGlzKS5maW5kKFwiaDRcIikudGV4dCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KFwiLmNvbC1sZy0zLmNvbC1tZC00LmNvbC1zbS02XCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICAgICRzZWFyY2hfaWNvbi5oaWRlKCk7XG4gICAgICAgICAgJGNsb3NlX2ljb24uc2hvdygpO1xuICAgICAgICAgIGlmKGNvbnRlbnQuaW5kZXhPZigkdGhpcykgPj0gMCB8fCBzcGVjaWVzLmluZGV4T2YoJHRoaXMpID49IDAgfHwgZ2VuZXMuaW5kZXhPZigkdGhpcykgPj0gMCB8fCBsYXRpbi5pbmRleE9mKCR0aGlzKSA+PSAwKXtcbiAgICAgICAgICAgICQodGhpcykuY2xvc2VzdChcIi5jb2wtbGctMy5jb2wtbWQtNC5jb2wtc20tNlwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICAgICAkc2VhcmNoX2ljb24uc2hvdygpO1xuICAgICAgICAgICAgJGNsb3NlX2ljb24uaGlkZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZW1wdHlTZWFyY2goKXtcbiAgICAgICRzZWFyY2hfaW5wdXQudmFsKFwiXCIpO1xuICAgICAgJHNlYXJjaF9pY29uLnNob3coKTtcbiAgICAgICRjbG9zZV9pY29uLmhpZGUoKTtcbiAgICAgICRyZXN1bHQuY2xvc2VzdChcIi5jb2wtbGctMy5jb2wtbWQtNC5jb2wtc20tNlwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgfVxuXG59KShqUXVlcnkpO1xuIiwiKGZ1bmN0aW9uICgkKSB7XG5cbiAgLypcbiAgICogVmFyc1xuICAgKi9cbiAgdmFyICRib2R5ID0gJChcImh0bWwsIGJvZHlcIiksXG4gICAgICAkY29udGFpbmVyID0gJGJvZHkuZmluZChcIi5nZW5lLXNvcnRpbmdcIiksXG4gICAgICAkc2VsZWN0ID0gJGNvbnRhaW5lci5maW5kKFwiLmN1c3RvbS1zZWxlY3Qgc2VsZWN0XCIpLFxuICAgICAgJGlucHV0ID0gJGNvbnRhaW5lci5maW5kKFwiLnZhbCBpbnB1dFwiKTtcblxuICAvKlxuICAgKiBFdmVudHNcbiAgICovXG4gICRzZWxlY3Qub24oXCJjaGFuZ2VcIiwgdXBkYXRlRmlsdGVycyk7XG4gICRpbnB1dC5vbihcImNoYW5nZVwiLCB1cGRhdGVGaWx0ZXJzKTtcbiAgJGlucHV0Lm9uKFwia2V5dXBcIiwgdXBkYXRlRmlsdGVycyk7XG5cbiAgLypcbiAgICogRnVuY3Rpb25zXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVGaWx0ZXJzKGUpe1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICRnZW5lcyA9ICRib2R5LmZpbmQoXCIuZ2VuZS1jb250ZW50XCIpLFxuICAgICAgICBzZWxlY3RlZCA9ICRzZWxlY3QuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS52YWwoKSxcbiAgICAgICAgbnVtYmVyID0gJGlucHV0LnZhbCgpO1xuXG4gICAgJGlucHV0LnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG5cbiAgICBpZihzZWxlY3RlZCA9PT0gXCIxXCIgJiYgbnVtYmVyICE9PSBcIlwiKSB7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jN1wiKS50ZXh0KCkpO1xuICAgICAgICBpZihxIDw9IG51bWJlcikgeyAkKHRoaXMpLnNob3coKTsgfSBlbHNlIHsgJCh0aGlzKS5oaWRlKCk7IH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmKHNlbGVjdGVkID09PSBcIjJcIiAmJiBudW1iZXIgIT09IFwiXCIpIHtcbiAgICAgICRnZW5lcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcSA9IHBhcnNlRmxvYXQoJCh0aGlzKS5maW5kKFwiLmM4XCIpLnRleHQoKSk7XG4gICAgICAgIGlmKHEgPD0gbnVtYmVyKSB7ICQodGhpcykuc2hvdygpOyB9IGVsc2UgeyAkKHRoaXMpLmhpZGUoKTsgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYoc2VsZWN0ZWQgPT09IFwiM1wiICYmIG51bWJlciAhPT0gXCJcIikge1xuICAgICAgJGdlbmVzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBxID0gcGFyc2VGbG9hdCgkKHRoaXMpLmZpbmQoXCIuYzlcIikudGV4dCgpKTtcbiAgICAgICAgaWYocSA8PSBudW1iZXIpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RlZCA9PT0gXCI0XCIgJiYgbnVtYmVyICE9PSBcIlwiKSB7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jMTBcIikudGV4dCgpKTtcbiAgICAgICAgaWYocSA8PSBudW1iZXIpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RlZCA9PT0gXCI1XCIgJiYgbnVtYmVyICE9PSBcIlwiKSB7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jMTFcIikudGV4dCgpKTtcbiAgICAgICAgaWYocSA8PSBudW1iZXIpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RlZCA9PT0gXCIwXCIpIHtcbiAgICAgICRpbnB1dC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jM1wiKS50ZXh0KCkpO1xuICAgICAgICBpZihxID09PSAxKSB7ICQodGhpcykuc2hvdygpOyB9IGVsc2UgeyAkKHRoaXMpLmhpZGUoKTsgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbn0pKGpRdWVyeSk7XG4iLCJcbiAgLy8gVGhlIGZvbGxvd2luZyBhcmUgYWNjZXNzIGZ1bmN0aW9uIHRvIGV4dHJhY3QgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uXG4gIC8vIGZyb20gZWFjaCBkYXRhIHBvaW50LlxuICB2YXIgZ2V0SWQgPSBmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gZFtcIl9yb3dcIl07XG4gIH07XG5cbiAgdmFyIGdldFN5bWJvbCA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIHJldHVybiBkW1wiU3ltYm9sXCJdO1xuICB9O1xuXG4gIHZhciBnZXRYID0gZnVuY3Rpb24oZCkge1xuICAgICAgcmV0dXJuIGRbXCJsb2dGQ1wiXTtcbiAgfTtcblxuICB2YXIgZ2V0WSA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIHJldHVybiBkW1wiYWRqLlAuVmFsXCJdO1xuICB9O1xuXG4gIC8vIFRoaXMgaXMgYSBjbGFzc2ljYWwgZXhhbXBsZSBvZiBmdW5jdGlvbiBjb21wb3NpdGlvbi4gSXQgd2lsbCByZXR1cm5cbiAgLy8gdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBzcGVjaWZpZWQgYWNjZXNzb3IsIHNjYWxlZCwgYW5kIHJvdW5kZWQuXG4gIHZhciBnZXRTY2FsZWQgPSBmdW5jdGlvbihzY2FsZSwgYWNjZXNzb3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHNjYWxlKGFjY2Vzc29yKGQpKSk7XG4gICAgICB9XG4gIH07XG5cbiAgLy8gVGhpcyBpcyBhIHByZWRpY2F0ZSAocmV0dXJucyB0cnVlIG9yIGZhbHNlKSBkZXBlbmRpbmcgb24gd2hldGhlciBhIGRhdGEgcG9pbnRcbiAgLy8gaXMgc3RhdGlzdGljYWxseSBzaWduaWZpY2FudC5cbiAgdmFyIGlzU2lnbmlmaWNhbnQgPSBmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gISEoTWF0aC5hYnMoZ2V0WChkKSkgPiAxICYmIGdldFkoZCkgPCAwLjA1KTtcbiAgfTtcblxuICB2YXIgbWFyZ2luID0ge3RvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiA0MCwgbGVmdDogNDB9LFxuICAvLyBUaGlzIG1hcmdpbiBtYWtlcyBzdXJlIHRoZSB0d28gYXhlcyB3aWxsIG5vdCBvdmVybGFwLFxuICAvLyBtYWtpbmcgdGhlIHBsb3QgbW9yZSByZWFkYWJsZS5cbiAgICAgIGF4ZXNNYXJnaW4gPSAxMCxcbiAgICAgIHdpZHRoID0gNTAwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQgLSBheGVzTWFyZ2luLFxuICAgICAgaGVpZ2h0ID0gMzYwIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20gLSBheGVzTWFyZ2luO1xuXG4gIC8vIExlZ2VuZCBib3ggc2l6ZVxuICB2YXIgbGVnZW5kV2lkdGggPSAxMTAsXG4gICAgICBsZWdlbmRIZWlnaHQgPSA2MDtcblxuICAvLyBUaGUgcmFkaXVzIGFuZCBib3JkZXIgc2l6ZSBvZiBlYWNoIGRhdGEgcG9pbnQuXG4gIHZhciByYWRpdXMgPSAzLCBib3JkZXIgPSAyO1xuXG4gIC8vIEJ1aWxkIGEgbGluZWFyIHNjYWxlIGZvciB0aGUgeC1heGlzLlxuICB2YXIgeFNjYWxlID0gZDMuc2NhbGUubGluZWFyKCkucmFuZ2UoWzAsIHdpZHRoXSksXG4gIC8vIEJ1aWxkIGEgbG9nMTAgc2NhbGUgZm9yIHRoZSB5LWF4aXNcbiAgICAgIHlTY2FsZSA9IGQzLnNjYWxlLmxvZygpLnJhbmdlKFswLCBoZWlnaHRdKTtcblxuICAvLyBDcmVhdGUgdGhlIEQzIGF4ZXMgb2JqZWN0cy5cbiAgdmFyIHhBeGlzID0gZDMuc3ZnLmF4aXMoKS5zY2FsZSh4U2NhbGUpLm9yaWVudChcImJvdHRvbVwiKSxcbiAgICAgIHlBeGlzID0gZDMuc3ZnLmF4aXMoKS5zY2FsZSh5U2NhbGUpLm9yaWVudChcImxlZnRcIik7XG5cbiAgLy8gQ3JlYXRlIHRoZSBTVkcgY29udGFpbmVyIGluIHdoaWNoIHdlIHdpbGwgZHJhdyB0aGUgdm9sY2FubyBwbG90XG4gIC8vIG1ha2luZyBzdXJlIHRvIHJlc2VydmUgZW5vdWdoIHNwYWNlIG9uIHRoZSBsZWZ0IGFuZCBvbiB0aGUgYm90dG9tXG4gIC8vIHRvIHNob3cgdGhlIGF4ZXMgbGFiZWxzLiBXZSBhbHNvIHJlc2VydmUgYSBiaXQgb2Ygc3BhY2Ugb24gdGhlIHRvcFxuICAvLyBhbmQgb24gdGhlIHJpZ2h0IHRvIGF2b2lkIHRoYXQgZGF0YSBwb2ludHMgb24gdGhlIGVkZ2VzIHdpbGwgYmVcbiAgLy8gY3V0IG9mZiBmcm9tIHRoZSBTVkcgY29udGFpbmVyLlxuICB2YXIgc3ZnVm9sY2FubyA9IGQzLnNlbGVjdChcIi5wbG90IC52b2xjYW5vXCIpLmFwcGVuZChcInN2Z1wiKVxuICAgICAgLnN0eWxlKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgIC5zdHlsZShcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSk7XG5cbiAgLy8gV2UgY3JlYXRlIHRoZSBzdmcgZ3JvdXAgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIHZvbGNhbm8gcGxvdCBhbmRcbiAgLy8gd2UgdHJhbnNsYXRlIGFsbCB0aGUgY29udGFpbmVkIG9iamVjdFxuICB2YXIgcGxvdCA9IHN2Z1ZvbGNhbm8uYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcblxuXG4gIC8vIFdlIHJlYWQgb3VyIGRhdGEgZnJvbSBhIGpzb24gZmlsZS5cbiAgZDMuanNvbihcIi9kYXRhL1RCSUwtMDEvdm9sY2Fuby1wbG90Lmpzb25cIiwgZnVuY3Rpb24gKGVycm9yLCByb290KSB7XG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAvLyBXZSBjYW4gZmluYWxseSByZXRyaWV2ZSB0aGUgZXh0cmVtZXMgb2Ygb3VyIGRhdGEgdXNpbmcgdGhlIGZ1bmN0aW9uIGQzLmV4dGVudC5cbiAgICAgIHhTY2FsZS5kb21haW4oZDMuZXh0ZW50KHJvb3QsIGdldFgpKTtcbiAgICAgIHlTY2FsZS5kb21haW4oZDMuZXh0ZW50KHJvb3QsIGdldFkpKTtcblxuICAgICAgLy8gSXQgaXMgdGltZSB0byBkcmF3IHRoZSB5IGF4aXMuLi5cbiAgICAgIHBsb3QuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ5IGF4aXNcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgLWF4ZXNNYXJnaW4gKyBcIilcIilcbiAgICAgICAgICAuY2FsbCh5QXhpcylcbiAgICAgICAgICAvLyAuLi5hbmQgaXRzIGxhYmVsLlxuICAgICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXG4gICAgICAgICAgLy8gV2Ugd2FudCB0byByb3RhdGUgdGhlIGxhYmVsIHNvIHRoYXQgaXQgZm9sbG93cyB0aGUgYXhpcyBvcmllbnRhdGlvblxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKC05MClcIilcbiAgICAgICAgICAuYXR0cihcInlcIiwgNilcbiAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjcxZW1cIilcbiAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxuICAgICAgICAgIC50ZXh0KFwiLUxvZzEwIFAtVmFsdWVcIik7XG5cbiAgICAgIC8vIE5vdyB0aGUgeC1heGlzLi4uXG4gICAgICBwbG90LmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBheGVzTWFyZ2luICsgXCIsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbCh4QXhpcylcbiAgICAgICAgICAvLyAuLi4gYW5kIGl0cyBsYWJlbC5cbiAgICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJsYWJlbFwiKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCB3aWR0aClcbiAgICAgICAgICAuYXR0cihcInlcIiwgLTYpXG4gICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcbiAgICAgICAgICAudGV4dChcIkxvZzIgRm9sZCBDaGFuZ2VzXCIpO1xuXG4gICAgICAvLyBMZXQncyBjcmVhdGUgYSBncm91cCB0byBjb250YWluIGFsbCB0aGUgZGF0YSBwb2ludHMsIGNvcnJlY3RseSBzcGFjZWQgZnJvbSB0aGUgYXhlcy5cbiAgICAgIHZhciBzY2F0dGVyID0gcGxvdC5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInNjYXR0ZXJcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIGF4ZXNNYXJnaW4gKyBcIixcIiArICAtYXhlc01hcmdpbiArIFwiKVwiKTtcblxuICAgICAgLy8gRmluYWxseSBsZXQncyBkcmF3IHRoZSBzaW5nbGUgZGF0YSBwb2ludHNcbiAgICAgIHZhciBjaXJjbGVzID0gc2NhdHRlci5zZWxlY3RBbGwoXCJjaXJjbGVcIikuZGF0YShyb290LCBnZXRJZClcbiAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJjaXJjbGVcIilcbiAgICAgICAgICAuYXR0cihcImN4XCIsIGdldFNjYWxlZCh4U2NhbGUsIGdldFgpKVxuICAgICAgICAgIC5hdHRyKFwiY3lcIiwgZ2V0U2NhbGVkKHlTY2FsZSwgZ2V0WSkpXG4gICAgICAgICAgLmF0dHIoXCJyXCIsIHJhZGl1cylcbiAgICAgICAgICAuY2xhc3NlZChcInNpZ25pZmljYW50XCIsIGlzU2lnbmlmaWNhbnQpO1xuXG4gICAgICAvLyBXZSBhZGQgYSBzbWFsbCBsZWdlbmQgdG8gaGVscCB0aGUgdXNlcnNcbiAgICAgIC8vIFN0YXJ0IGZyb20gYW4gb3JkaW5hbCBzY2FsZSB0byB2ZXJ0aWNhbGx5IHBsYWNlIHRoZSBsYWJlbHMgaW4gdGhlIGJveFxuICAgICAgdmFyIGxlZ2VuZFNjYWxlID0gZDMuc2NhbGUub3JkaW5hbCgpXG4gICAgICAgICAgLmRvbWFpbihbdHJ1ZSxmYWxzZV0pXG4gICAgICAgICAgLnJhbmdlUm91bmRQb2ludHMoWzAsIGxlZ2VuZEhlaWdodF0sMS41KTtcblxuICAgICAgLy8gQWRkIHRoZSBncmFwaGljYWwgZWxlbWVudCBjb250YWluaW5nIHRoZSBsZWdlbmRcbiAgICAgIHZhciBsZWdlbmQgPSBzY2F0dGVyLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcImNsYXNzXCIsXCJsZWdlbmRcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArICh3aWR0aCAtIGxlZ2VuZFdpZHRoKSArIFwiLFwiICsgMCArIFwiKVwiKTtcblxuICAgICAgLy8gQWRkIHRoZSBsZWdlbmQgZW50cmllcyAoY2lyY2xlICsgdGV4dClcblxuICAgICAgLy8gV2Ugc2ltcGx5IGFkZCBzb21lIGZpY3RpdGlvdXMgZGF0YSB0byBtYWtlIHRoZSBmaXJzdFxuICAgICAgLy8gZW50cnkgc2lnbmlmaWNhbnQsIGFuZCB0aGUgc2Vjb25kIG5vdCwgc28gdGhhdCB0aGVcbiAgICAgIC8vIHN0eWxpbmcgd2UgY2hvc2UgZm9yIHRoZSBzY2F0dGVycGxvdCB3aWxsIGFwcGx5XG4gICAgICAvLyBoZXJlIHRvbywgZnJlZSBvZiBjaGFyZ2UgOilcbiAgICAgIHZhciBsZWdlbmRFbnRyeSA9IGxlZ2VuZC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAgICAgLmRhdGEoW3tcImFkai5QLlZhbFwiOiAwLjAxLCBcImxvZ0ZDXCI6IDEuNX0sXG4gICAgICAgICAgICAgIHtcImFkai5QLlZhbFwiOiAwLjUsIFwibG9nRkNcIjogMC41fV0pXG4gICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKTtcblxuICAgICAgbGVnZW5kRW50cnkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgICAgLmF0dHIoXCJyXCIsIHJhZGl1cylcbiAgICAgICAgICAuYXR0cihcImN4XCIsIDIwKVxuICAgICAgICAgIC5hdHRyKFwiY3lcIiwgZnVuY3Rpb24oZCkge3JldHVybiBsZWdlbmRTY2FsZShpc1NpZ25pZmljYW50KGQpKTt9KVxuICAgICAgICAgIC5jbGFzc2VkKFwic2lnbmlmaWNhbnRcIiwgaXNTaWduaWZpY2FudCk7XG5cbiAgICAgIGxlZ2VuZEVudHJ5LmFwcGVuZChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibGFiZWxcIilcbiAgICAgICAgICAuYXR0cihcInhcIiwgMzApXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsICBmdW5jdGlvbihkKXtyZXR1cm4gbGVnZW5kU2NhbGUoaXNTaWduaWZpY2FudChkKSk7fSlcbiAgICAgICAgICAuc3R5bGUoXCJkb21pbmFudC1iYXNlbGluZVwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwiYmVnaW5cIilcbiAgICAgICAgICAudGV4dChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgIHJldHVybiAoaXNTaWduaWZpY2FudChkKSA/IFwiXCIgOiBcIm5vdCBcIikgKyBcInNpZ25pZmljYW50XCI7XG4gICAgICAgICAgfSApO1xuXG5cbiAgICAgIC8vIExldCdzIGNyZWF0ZSBhIFZvcm9ub2kgZGlhZ3JhbSB1c2luZyB0aGUgYWNjZXNzb3JzIGRlZmluZWQgYmVmb3JlLlxuICAgICAgLy8gV2UgYWxzbyBjbGlwIHRoZSBWb3Jvbm9pIHRvIHRoZSBwbG90dGluZyBhcmVhIGRpbWVuc2lvbnMuXG4gICAgICB2YXIgdm9yb25vaSA9IGQzLmdlb20udm9yb25vaSgpXG4gICAgICAgICAgLngoZ2V0U2NhbGVkKHhTY2FsZSwgZ2V0WCkpXG4gICAgICAgICAgLnkoZ2V0U2NhbGVkKHlTY2FsZSwgZ2V0WSkpXG4gICAgICAgICAgLmNsaXBFeHRlbnQoW1swLDBdLCBbd2lkdGgsIGhlaWdodF1dKTtcblxuICAgICAgLy8gRm9yIGNvbnZlbmllbmNlIHdlIGNyZWF0ZSBhIG5ldyBTVkcgZ3JvdXAgdGhhdCBjb250YWlucyBhbGwgdGhlXG4gICAgICAvLyBWb3Jvbm9pIGVsZW1lbnRzLlxuICAgICAgdmFyIHZvcm9ub2lHID0gcGxvdC5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInZvcm9ub2lcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIGF4ZXNNYXJnaW4gKyBcIixcIiArICAtYXhlc01hcmdpbiArIFwiKVwiKTtcblxuICAgICAgLy8gUHJlZGljYXRlIHRoYXQgcmV0dXJucyB0cnVlIGlmIGFuZCBvbmx5IGlmIHRoZSBhcmVhIG9mIHRoZSBwb2x5Z29uXG4gICAgICAvLyBpcyBsYXJnZXIgdGhhbiBtaW5BcmVhLlxuICAgICAgdmFyIGhhc0xhcmdlckFyZWEgPSBmdW5jdGlvbihtaW5BcmVhKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBvbHlnb24pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBvbHlnb24uYXJlYSgpID4gbWluQXJlYVxuICAgICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGQzLnNlbGVjdGlvbi5wcm90b3R5cGUubW92ZVRvRnJvbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHN2Z1ZvbGNhbm8uYXBwZW5kKFwiZGVmc1wiKVxuICAgICAgICAgIC5zZWxlY3RBbGwoXCJjbGlwUGF0aFwiKS5kYXRhKHJvb3QpLmVudGVyKClcbiAgICAgICAgICAuYXBwZW5kKFwic3ZnOmNsaXBQYXRoXCIpXG4gICAgICAgICAgLmF0dHIoXCJpZFwiLCBnZXRJZClcbiAgICAgICAgICAuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgICAgLmF0dHIoXCJjeFwiLCBnZXRTY2FsZWQoeFNjYWxlLCBnZXRYKSlcbiAgICAgICAgICAuYXR0cihcImN5XCIsIGdldFNjYWxlZCh5U2NhbGUsIGdldFkpKVxuICAgICAgICAgIC5hdHRyKFwiclwiLCAyMCk7XG5cbiAgICAgIHZhciBwYXRocyA9IHZvcm9ub2lHLnNlbGVjdEFsbChcInBhdGhcIilcbiAgICAgICAgICAuZGF0YSh2b3Jvbm9pKHJvb3QpLm1hcChkMy5nZW9tLnBvbHlnb24pLmZpbHRlcihoYXNMYXJnZXJBcmVhKE1hdGgucG93KHJhZGl1cyArIGJvcmRlci8yLCAyKSpNYXRoLlBJKSkpXG4gICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwic3ZnOnBvbHlnb25cIilcbiAgICAgICAgICAuYXR0cihcInBvaW50c1wiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZCk7XG4gICAgICAgICAgICAgIGlmICghZCkgcmV0dXJuO1xuICAgICAgICAgICAgICByZXR1cm4gZC5tYXAoZnVuY3Rpb24oeCl7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gW01hdGgucm91bmQoeFswXSksTWF0aC5yb3VuZCh4WzFdKV07XG4gICAgICAgICAgICAgIH0pLmpvaW4oXCIsXCIpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcImNsaXAtcGF0aFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBcInVybCgjXCIgKyBnZXRJZChkLnBvaW50KSArIFwiKVwiOyB9KVxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJpbnZpc2libGVcIik7XG5cbiAgICAgIGNpcmNsZXMuZWFjaChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSBcIjxwPklEOiBcIiArIGdldElkKGQpICsgXCI8YnI+XCIgK1xuICAgICAgICAgICAgICBcIkxvZzIgRm9sZCBDaGFuZ2VzOiBcIiArIGdldFgoZCkgKyBcIjxicj5cIiArXG4gICAgICAgICAgICAgIFwiQWRqdXN0ZWQgUC1WYWx1ZTogXCIgKyBnZXRZKGQpICsgXCI8L3A+XCI7XG4gICAgICAgICAgbmV3IE9wZW50aXAodGhpcywgY29udGVudCwge1xuICAgICAgICAgICAgICB0aXRsZTogZ2V0U3ltYm9sKGQpLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBcImRhcmtncmF5XCIsXG4gICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLFxuICAgICAgICAgICAgICBkZWxheTogMC4yNSxcbiAgICAgICAgICAgICAgaGlkZURlbGF5OiAwLFxuICAgICAgICAgICAgICBzaGFkb3c6IGZhbHNlLFxuICAgICAgICAgICAgICBzdGVtOiAnY2VudGVyIGJvdHRvbScsXG4gICAgICAgICAgICAgIHRhcmdldDogdHJ1ZSxcbiAgICAgICAgICAgICAgdGFyZ2V0Sm9pbnQ6ICdjZW50ZXIgdG9wJyxcbiAgICAgICAgICAgICAgdGlwSm9pbnQ6ICdjZW50ZXIgYm90dG9tJyxcbiAgICAgICAgICAgICAgc2hvd09uOiBcIm1vdXNlZW50ZXJcIixcbiAgICAgICAgICAgICAgaGlkZU9uOiBcIm1vdXNlbGVhdmVcIlxuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNpcmNsZXMub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKFwiaG92ZXJcIiwgdHJ1ZSkubW92ZVRvRnJvbnQoKTtcbiAgICAgIH0pO1xuICAgICAgY2lyY2xlcy5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJob3ZlclwiLCBmYWxzZSlcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGlzIGZ1bmN0aW9uIGdldCBhbiBldmVudCBmcm9tIHRoZSBWb3Jvbm9pIGFuZCB0cmlnZ2VycyB0aGUgc2FtZVxuICAgICAgLy8gZXZlbnQgdHlwZSBvbiB0aGUgY2lyY2xlIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBwYXJ0aXRpb24uXG4gICAgICB2YXIgZm9yd2FyZEV2ZW50ID0gZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiU1ZHRXZlbnRzXCIpO1xuICAgICAgICAgIGV2ZW50LmluaXRFdmVudChkMy5ldmVudC50eXBlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBjaXJjbGVzLmRhdGEoW2QucG9pbnRdLCBnZXRJZCkubm9kZSgpLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgfTtcblxuICAgICAgcGF0aHMub24oXCJtb3VzZWVudGVyXCIsIGZvcndhcmRFdmVudCk7XG4gICAgICBwYXRocy5vbihcIm1vdXNlbGVhdmVcIiwgZm9yd2FyZEV2ZW50KTtcblxuICB9KTtcbiIsIihmdW5jdGlvbiAoJCkge1xuXG4gIC8qXG4gICAqIFZhcnNcbiAgICovXG4gIHZhciAkYm9keSA9ICQoXCJodG1sLCBib2R5XCIpLFxuICAgICAgJGNvbnRhaW5lciA9ICRib2R5LmZpbmQoXCIuZ2VuZS1zb3J0aW5nXCIpLFxuICAgICAgJHNlbGVjdCA9ICRjb250YWluZXIuZmluZChcIi5jdXN0b20tc2VsZWN0IHNlbGVjdFwiKSxcbiAgICAgICRpbnB1dCA9ICRjb250YWluZXIuZmluZChcIi52YWwgaW5wdXRcIiksXG4gICAgICAkdm9sY2FubyA9ICRib2R5LmZpbmQoXCIudm9sY2Fuby1ob2xkZXJcIiksXG4gICAgICAkdm9sY2Fub19wbG90ID0gJGJvZHkuZmluZChcIi52b2xjYW5vXCIpLFxuICAgICAgJHZvbGNhbm9fb3ZlcmxheSA9ICRib2R5LmZpbmQoXCIub3ZlcmxheVwiKTtcblxuICAvKlxuICAgKiBFdmVudHNcbiAgICovXG4gICRzZWxlY3Qub24oXCJjaGFuZ2VcIiwgdXBkYXRlRmlsdGVycyk7XG4gICRpbnB1dC5vbihcImNoYW5nZVwiLCB1cGRhdGVGaWx0ZXJzKTtcbiAgJGlucHV0Lm9uKFwia2V5dXBcIiwgdXBkYXRlRmlsdGVycyk7XG5cbiAgLypcbiAgICogRnVuY3Rpb25zXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVGaWx0ZXJzKGUpe1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICRnZW5lcyA9ICRib2R5LmZpbmQoXCIuZ2VuZS1jb250ZW50XCIpLFxuICAgICAgICBzZWxlY3RlZCA9ICRzZWxlY3QuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS52YWwoKSxcbiAgICAgICAgbnVtYmVyID0gJGlucHV0LnZhbCgpO1xuXG4gICAgJGlucHV0LnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG5cbiAgICBpZihzZWxlY3RlZCA9PT0gXCIxXCIgJiYgbnVtYmVyICE9PSBcIlwiKSB7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jN1wiKS50ZXh0KCkpO1xuICAgICAgICBpZihxIDw9IG51bWJlcikgeyAkKHRoaXMpLnNob3coKTsgfSBlbHNlIHsgJCh0aGlzKS5oaWRlKCk7IH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmKHNlbGVjdGVkID09PSBcIjJcIiAmJiBudW1iZXIgIT09IFwiXCIpIHtcbiAgICAgICRnZW5lcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcSA9IHBhcnNlRmxvYXQoJCh0aGlzKS5maW5kKFwiLmM4XCIpLnRleHQoKSk7XG4gICAgICAgIGlmKHEgPD0gbnVtYmVyKSB7ICQodGhpcykuc2hvdygpOyB9IGVsc2UgeyAkKHRoaXMpLmhpZGUoKTsgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYoc2VsZWN0ZWQgPT09IFwiM1wiICYmIG51bWJlciAhPT0gXCJcIikge1xuICAgICAgJGdlbmVzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBxID0gcGFyc2VGbG9hdCgkKHRoaXMpLmZpbmQoXCIuYzlcIikudGV4dCgpKTtcbiAgICAgICAgaWYocSA8PSBudW1iZXIpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RlZCA9PT0gXCI0XCIgJiYgbnVtYmVyICE9PSBcIlwiKSB7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jMTBcIikudGV4dCgpKTtcbiAgICAgICAgaWYocSA8PSBudW1iZXIpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RlZCA9PT0gXCI1XCIgJiYgbnVtYmVyICE9PSBcIlwiKSB7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jMTFcIikudGV4dCgpKTtcbiAgICAgICAgaWYocSA8PSBudW1iZXIpIHsgJCh0aGlzKS5zaG93KCk7IH0gZWxzZSB7ICQodGhpcykuaGlkZSgpOyB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZihzZWxlY3RlZCA9PT0gXCIwXCIpIHtcbiAgICAgICRpbnB1dC5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAkZ2VuZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHEgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZChcIi5jM1wiKS50ZXh0KCkpO1xuICAgICAgICBpZihxID09PSAxKSB7ICQodGhpcykuc2hvdygpOyB9IGVsc2UgeyAkKHRoaXMpLmhpZGUoKTsgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbn0pKGpRdWVyeSk7XG4iXX0=
